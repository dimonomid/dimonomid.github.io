<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Bot Terminal: BTCore::DataMsg Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bot Terminal
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceBTCore.html">BTCore</a></li><li class="navelem"><a class="el" href="classBTCore_1_1DataMsg.html">DataMsg</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBTCore_1_1DataMsg-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BTCore::DataMsg Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class that represents single data message.  
 <a href="classBTCore_1_1DataMsg.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a15d0ccb05a02d09eaf45452bdb166bc8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a15d0ccb05a02d09eaf45452bdb166bc8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTCore_1_1DataMsg.html#a15d0ccb05a02d09eaf45452bdb166bc8">DataMsg</a> ()</td></tr>
<tr class="memdesc:a15d0ccb05a02d09eaf45452bdb166bc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct empty data message (that contains no data parts) <br /></td></tr>
<tr class="separator:a15d0ccb05a02d09eaf45452bdb166bc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba7c5723d6771df02eb938f375bc1da8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTCore_1_1DataMsg.html#aba7c5723d6771df02eb938f375bc1da8">addData</a> (<a class="el" href="classBTCore_1_1DataPart.html#aad9542e0dc337a17e2217f72f6da2842">DataPart::DataType</a> data_type, const std::vector&lt; uint8_t &gt; &amp;data)</td></tr>
<tr class="memdesc:aba7c5723d6771df02eb938f375bc1da8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add data of particular type.  <a href="#aba7c5723d6771df02eb938f375bc1da8">More...</a><br /></td></tr>
<tr class="separator:aba7c5723d6771df02eb938f375bc1da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e036b49220ba3039f1b6c39d7eecc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTCore_1_1DataMsg.html#ad9e036b49220ba3039f1b6c39d7eecc0">addDataByte</a> (<a class="el" href="classBTCore_1_1DataPart.html#aad9542e0dc337a17e2217f72f6da2842">DataPart::DataType</a> data_type, uint8_t byte)</td></tr>
<tr class="memdesc:ad9e036b49220ba3039f1b6c39d7eecc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add data byte of particular type.  <a href="#ad9e036b49220ba3039f1b6c39d7eecc0">More...</a><br /></td></tr>
<tr class="separator:ad9e036b49220ba3039f1b6c39d7eecc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad99291de58d663c4e97fce4ba304d30f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTCore_1_1DataMsg.html#ad99291de58d663c4e97fce4ba304d30f">addDataPart</a> (<a class="el" href="classBTCore_1_1DataPart.html">DataPart</a> data_part)</td></tr>
<tr class="memdesc:ad99291de58d663c4e97fce4ba304d30f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the whole data part.  <a href="#ad99291de58d663c4e97fce4ba304d30f">More...</a><br /></td></tr>
<tr class="separator:ad99291de58d663c4e97fce4ba304d30f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9ccbd0bfadff31459a782ca24e09be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f9ccbd0bfadff31459a782ca24e09be"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTCore_1_1DataMsg.html#a2f9ccbd0bfadff31459a782ca24e09be">clear</a> ()</td></tr>
<tr class="memdesc:a2f9ccbd0bfadff31459a782ca24e09be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all data from the message. <br /></td></tr>
<tr class="separator:a2f9ccbd0bfadff31459a782ca24e09be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8cb53ac8284eaad6ba14025db89a184"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; std::vector<br class="typebreak" />
&lt; uint8_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTCore_1_1DataMsg.html#aa8cb53ac8284eaad6ba14025db89a184">getUserData</a> () const </td></tr>
<tr class="memdesc:aa8cb53ac8284eaad6ba14025db89a184"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get user (payload) data.  <a href="#aa8cb53ac8284eaad6ba14025db89a184">More...</a><br /></td></tr>
<tr class="separator:aa8cb53ac8284eaad6ba14025db89a184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06eeb6708b9a1a58bf5d41abd857f1ad"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; std::vector<br class="typebreak" />
&lt; uint8_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTCore_1_1DataMsg.html#a06eeb6708b9a1a58bf5d41abd857f1ad">getRawData</a> () const </td></tr>
<tr class="memdesc:a06eeb6708b9a1a58bf5d41abd857f1ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get raw data (that is, data to be transmitted on the wire).  <a href="#a06eeb6708b9a1a58bf5d41abd857f1ad">More...</a><br /></td></tr>
<tr class="separator:a06eeb6708b9a1a58bf5d41abd857f1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6426e7f9eff8e1938e85234f65c988b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6426e7f9eff8e1938e85234f65c988b8"></a>
std::vector&lt; <a class="el" href="classBTCore_1_1DataPart.html">DataPart</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTCore_1_1DataMsg.html#a6426e7f9eff8e1938e85234f65c988b8">getDataParts</a> () const </td></tr>
<tr class="memdesc:a6426e7f9eff8e1938e85234f65c988b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the sequence of data parts. <br /></td></tr>
<tr class="separator:a6426e7f9eff8e1938e85234f65c988b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c2a1214cb0644db0921a9f1fa79adc6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c2a1214cb0644db0921a9f1fa79adc6"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBTCore_1_1DataMsg.html#a5c2a1214cb0644db0921a9f1fa79adc6">toString</a> () const </td></tr>
<tr class="memdesc:a5c2a1214cb0644db0921a9f1fa79adc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate human-readable string representation of the message. <br /></td></tr>
<tr class="separator:a5c2a1214cb0644db0921a9f1fa79adc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c916058d4f37b9d9b24e8369282e633"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c916058d4f37b9d9b24e8369282e633"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator==</b> (const <a class="el" href="classBTCore_1_1DataMsg.html">DataMsg</a> &amp;other) const </td></tr>
<tr class="separator:a9c916058d4f37b9d9b24e8369282e633"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class that represents single data message. </p>
<p>The message contains both service data (that is transmitted on the wire) and user data (the payload). To this end, the message consists of the so-called parts (<code><a class="el" href="classBTCore_1_1DataPart.html" title="Class that represents a part of data message (see BTCore::DataMsg). ">BTCore::DataPart</a></code>). </p>

<p>Definition at line <a class="el" href="bt__datamsg_8h_source.html#l00038">38</a> of file <a class="el" href="bt__datamsg_8h_source.html">bt_datamsg.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aba7c5723d6771df02eb938f375bc1da8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataMsg::addData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBTCore_1_1DataPart.html#aad9542e0dc337a17e2217f72f6da2842">DataPart::DataType</a>&#160;</td>
          <td class="paramname"><em>data_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add data of particular type. </p>
<p>If the last data part has data of exactly the same type, then new data is appended to the last part. Otherwise, new data part is created and added to the sequence of message data parts.</p>
<p>Note that if the last data part type is <code><a class="el" href="classBTCore_1_1DataPart.html#a2a5b404ff31671a5edabdbd61088dd2fa448285d39c3f159c017938c7c367d0d2" title="Combined: the part contains data of both types (service and user). ">BTCore::DataPart::PartType::COMBINED</a></code>, then new data won't be appended to it, but new part will be created instead. This is because combined data parts are self-contained: typically, they have some payload data, and some service data that represents this payload data. If we append data of either type to this part, this semantic will be lost. </p>

<p>Definition at line <a class="el" href="bt__datamsg_8cpp_source.html#l00055">55</a> of file <a class="el" href="bt__datamsg_8cpp_source.html">bt_datamsg.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad9e036b49220ba3039f1b6c39d7eecc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataMsg::addDataByte </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBTCore_1_1DataPart.html#aad9542e0dc337a17e2217f72f6da2842">DataPart::DataType</a>&#160;</td>
          <td class="paramname"><em>data_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add data byte of particular type. </p>
<p>See <code><a class="el" href="classBTCore_1_1DataMsg.html#aba7c5723d6771df02eb938f375bc1da8" title="Add data of particular type. ">addData()</a></code> for details. </p>

<p>Definition at line <a class="el" href="bt__datamsg_8cpp_source.html#l00073">73</a> of file <a class="el" href="bt__datamsg_8cpp_source.html">bt_datamsg.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad99291de58d663c4e97fce4ba304d30f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataMsg::addDataPart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBTCore_1_1DataPart.html">DataPart</a>&#160;</td>
          <td class="paramname"><em>data_part</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the whole data part. </p>
<p>The part is always added as it is, without appending data from it to the last existing part. </p>

<p>Definition at line <a class="el" href="bt__datamsg_8cpp_source.html#l00093">93</a> of file <a class="el" href="bt__datamsg_8cpp_source.html">bt_datamsg.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa8cb53ac8284eaad6ba14025db89a184"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; vector&lt; uint8_t &gt; &gt; DataMsg::getUserData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get user (payload) data. </p>
<p>It is collected from all the data parts: all data with type <code><a class="el" href="classBTCore_1_1DataPart.html#aad9542e0dc337a17e2217f72f6da2842a2e40ad879e955201df4dedbf8d479a12" title="User data (the payload of the message). ">BTCore::DataPart::DataType::USER</a></code> will be collected. </p>

<p>Definition at line <a class="el" href="bt__datamsg_8cpp_source.html#l00141">141</a> of file <a class="el" href="bt__datamsg_8cpp_source.html">bt_datamsg.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a06eeb6708b9a1a58bf5d41abd857f1ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; vector&lt; uint8_t &gt; &gt; DataMsg::getRawData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get raw data (that is, data to be transmitted on the wire). </p>
<p>It is collected from all the data parts. For each part, we:</p>
<ul>
<li>try to get <code>SERVICE</code> data.</li>
<li>If part doesn't have any <code>SERVICE</code> data, then we get <code>USER</code> data from this part, and use it. </li>
</ul>

<p>Definition at line <a class="el" href="bt__datamsg_8cpp_source.html#l00156">156</a> of file <a class="el" href="bt__datamsg_8cpp_source.html">bt_datamsg.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>bt_core/bt_datamsg/<a class="el" href="bt__datamsg_8h_source.html">bt_datamsg.h</a></li>
<li>bt_core/bt_datamsg/<a class="el" href="bt__datamsg_8cpp_source.html">bt_datamsg.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 26 2015 20:34:22 for Bot Terminal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
