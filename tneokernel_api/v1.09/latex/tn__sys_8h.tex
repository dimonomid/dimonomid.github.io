\hypertarget{tn__sys_8h}{}\doxysection{core/tn\+\_\+sys.h File Reference}
\label{tn__sys_8h}\index{core/tn\_sys.h@{core/tn\_sys.h}}


\doxysubsection{Detailed Description}
Kernel system routines\+: system start, tick processing, time slice managing. \doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct__TN__BuildCfg}{\+\_\+\+T\+N\+\_\+\+Build\+Cfg}}
\begin{DoxyCompactList}\small\item\em Structure with build-\/time configurations values; it is needed for run-\/time check which ensures that build-\/time options for the kernel match ones for the application. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{tn__sys_8h_ad61af0f0e9ab96bdf1ac1bf1e03e3c75}{T\+N\+\_\+\+S\+T\+A\+C\+K\+\_\+\+A\+R\+R\+\_\+\+D\+EF}}(name,  size)
\begin{DoxyCompactList}\small\item\em Convenience macro for the definition of stack array. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{tn__sys_8h_ad98662c1f06abe650958bbf208414e18}{\+\_\+\+T\+N\+\_\+\+B\+U\+I\+L\+D\+\_\+\+C\+F\+G\+\_\+\+A\+R\+C\+H\+\_\+\+S\+T\+R\+U\+C\+T\+\_\+\+F\+I\+LL}}(\+\_\+p\+\_\+struct)
\begin{DoxyCompactList}\small\item\em For internal kernel usage\+: helper macro that fills architecture-\/dependent values. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{tn__sys_8h_a7784d4218225b2cbd087628bad0d544a}{\+\_\+\+T\+N\+\_\+\+B\+U\+I\+L\+D\+\_\+\+C\+F\+G\+\_\+\+S\+T\+R\+U\+C\+T\+\_\+\+F\+I\+LL}}(\+\_\+p\+\_\+struct)
\begin{DoxyCompactList}\small\item\em For internal kernel usage\+: fill the structure {\ttfamily \#\mbox{\hyperlink{struct__TN__BuildCfg}{\+\_\+\+T\+N\+\_\+\+Build\+Cfg}}} with current build-\/time configuration values. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{tn__sys_8h_af26252bf220b89153a9fe6f5daf81237}\label{tn__sys_8h_af26252bf220b89153a9fe6f5daf81237}} 
\#define \mbox{\hyperlink{tn__sys_8h_af26252bf220b89153a9fe6f5daf81237}{\+\_\+\+T\+N\+\_\+\+M\+A\+X\+\_\+\+I\+N\+L\+I\+N\+E\+D\+\_\+\+F\+U\+NC}}~/$\ast$ nothing $\ast$/
\begin{DoxyCompactList}\small\item\em For internal kernel usage\+: helper macro that allows functions to be inlined or not depending on configuration (see {\ttfamily \#T\+N\+\_\+\+M\+A\+X\+\_\+\+I\+N\+L\+I\+NE}) \end{DoxyCompactList}\item 
\mbox{\Hypertarget{tn__sys_8h_ab389cb36d15c2390d7868b10391c9b49}\label{tn__sys_8h_ab389cb36d15c2390d7868b10391c9b49}} 
\#define \mbox{\hyperlink{tn__sys_8h_ab389cb36d15c2390d7868b10391c9b49}{T\+N\+\_\+\+N\+O\+\_\+\+T\+I\+M\+E\+\_\+\+S\+L\+I\+CE}}~0
\begin{DoxyCompactList}\small\item\em Value to pass to {\ttfamily \mbox{\hyperlink{tn__sys_8h_a05fc370b6faa604fd8ff9411361c4cd0}{tn\+\_\+sys\+\_\+tslice\+\_\+set()}}} to turn round-\/robin off. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{tn__sys_8h_a546b128561cc3bf46d0423bad1f5c8c7}\label{tn__sys_8h_a546b128561cc3bf46d0423bad1f5c8c7}} 
\#define \mbox{\hyperlink{tn__sys_8h_a546b128561cc3bf46d0423bad1f5c8c7}{T\+N\+\_\+\+M\+A\+X\+\_\+\+T\+I\+M\+E\+\_\+\+S\+L\+I\+CE}}~0x\+F\+F\+FE
\begin{DoxyCompactList}\small\item\em Max value of time slice. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void() \mbox{\hyperlink{tn__sys_8h_aaa9bbc6c586cf6ce8d982b8d79bc27d6}{T\+N\+\_\+\+C\+B\+User\+Task\+Create}}(void)
\begin{DoxyCompactList}\small\item\em User-\/provided callback function that is called directly from {\ttfamily \mbox{\hyperlink{tn__sys_8h_a62ab25d9d8ca01c02d368968f19e49bf}{tn\+\_\+sys\+\_\+start()}}} as a part of system startup routine; it should merely create at least one (and typically just one) user\textquotesingle{}s task, which should perform all the rest application initialization. \end{DoxyCompactList}\item 
typedef void() \mbox{\hyperlink{tn__sys_8h_ac3811d563ff671cb7bd1519735e20fd1}{T\+N\+\_\+\+C\+B\+Idle}}(void)
\begin{DoxyCompactList}\small\item\em User-\/provided callback function which is called repeatedly from the idle task loop. \end{DoxyCompactList}\item 
typedef void() \mbox{\hyperlink{tn__sys_8h_a64b76c41f847eff5ee6c8bb0f337c946}{T\+N\+\_\+\+C\+B\+Stack\+Overflow}}(struct \mbox{\hyperlink{structTN__Task}{T\+N\+\_\+\+Task}} $\ast$task)
\begin{DoxyCompactList}\small\item\em User-\/provided callback function that is called when the kernel detects stack overflow (see {\ttfamily \#T\+N\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+V\+E\+R\+F\+L\+O\+W\+\_\+\+C\+H\+E\+CK}). \end{DoxyCompactList}\item 
typedef void() \mbox{\hyperlink{tn__sys_8h_a3a0439b7ba640754949f6d2c8e4ccc06}{T\+N\+\_\+\+C\+B\+Deadlock}}(\mbox{\hyperlink{tn__common_8h_a9f76389d1506addfc7542f54e484a92c}{T\+N\+\_\+\+B\+O\+OL}} active, struct \mbox{\hyperlink{structTN__Mutex}{T\+N\+\_\+\+Mutex}} $\ast$mutex, struct \mbox{\hyperlink{structTN__Task}{T\+N\+\_\+\+Task}} $\ast$task)
\begin{DoxyCompactList}\small\item\em User-\/provided callback function that is called whenever deadlock becomes active or inactive. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8}{T\+N\+\_\+\+State\+Flag}} \{ \mbox{\hyperlink{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8aa5085b1c78bc7e75aeac04a76cab6a52}{T\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+L\+A\+G\+\_\+\+\_\+\+S\+Y\+S\+\_\+\+R\+U\+N\+N\+I\+NG}} = (1 $<$$<$ 0), 
\mbox{\hyperlink{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8a188c405a2cde555e7aaaeaa1189a4580}{T\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+L\+A\+G\+\_\+\+\_\+\+D\+E\+A\+D\+L\+O\+CK}} = (1 $<$$<$ 1)
 \}
\begin{DoxyCompactList}\small\item\em System state flags. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51}{T\+N\+\_\+\+Context}} \{ \mbox{\hyperlink{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51ac6015804609fb2bb71335015c51c40a3}{T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+N\+O\+NE}}, 
\mbox{\hyperlink{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51ab78bafeb369a85700f793a7375e38ec6}{T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+T\+A\+SK}}, 
\mbox{\hyperlink{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51a4b0defef531f47e8cf5dc274355b6626}{T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+I\+SR}}
 \}
\begin{DoxyCompactList}\small\item\em System context. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{tn__sys_8h_a62ab25d9d8ca01c02d368968f19e49bf}{tn\+\_\+sys\+\_\+start}} (\mbox{\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{T\+N\+\_\+\+U\+Word}} $\ast$idle\+\_\+task\+\_\+stack, unsigned int idle\+\_\+task\+\_\+stack\+\_\+size, \mbox{\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{T\+N\+\_\+\+U\+Word}} $\ast$int\+\_\+stack, unsigned int int\+\_\+stack\+\_\+size, \mbox{\hyperlink{tn__sys_8h_aaa9bbc6c586cf6ce8d982b8d79bc27d6}{T\+N\+\_\+\+C\+B\+User\+Task\+Create}} $\ast$cb\+\_\+user\+\_\+task\+\_\+create, \mbox{\hyperlink{tn__sys_8h_ac3811d563ff671cb7bd1519735e20fd1}{T\+N\+\_\+\+C\+B\+Idle}} $\ast$cb\+\_\+idle)
\begin{DoxyCompactList}\small\item\em Initial T\+Neo system start function, never returns. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{tn__sys_8h_aa44d297639e0520420890ef2bb7e2c1c}{tn\+\_\+tick\+\_\+int\+\_\+processing}} (void)
\begin{DoxyCompactList}\small\item\em Process system tick; should be called periodically, typically from some kind of timer I\+SR. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876}{T\+N\+\_\+\+R\+Code}} \mbox{\hyperlink{tn__sys_8h_a05fc370b6faa604fd8ff9411361c4cd0}{tn\+\_\+sys\+\_\+tslice\+\_\+set}} (int priority, int ticks)
\begin{DoxyCompactList}\small\item\em Set time slice ticks value for specified priority (see \mbox{\hyperlink{quick_guide_round_robin}{Round-\/robin scheduling}}). \end{DoxyCompactList}\item 
\mbox{\hyperlink{tn__common_8h_ac885b63d00c063de61cdbd80bf26d8aa}{T\+N\+\_\+\+Tick\+Cnt}} \mbox{\hyperlink{tn__sys_8h_a4864ca85d87bab0fa95ce11aefcd1a92}{tn\+\_\+sys\+\_\+time\+\_\+get}} (void)
\begin{DoxyCompactList}\small\item\em Get current system ticks count. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{tn__sys_8h_aaa4a5c2feb4a0db5993b81dde496edc3}{tn\+\_\+callback\+\_\+deadlock\+\_\+set}} (\mbox{\hyperlink{tn__sys_8h_a3a0439b7ba640754949f6d2c8e4ccc06}{T\+N\+\_\+\+C\+B\+Deadlock}} $\ast$cb)
\begin{DoxyCompactList}\small\item\em Set callback function that should be called whenever deadlock occurs or becomes inactive (say, if one of tasks involved in the deadlock was released from wait because of timeout) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{tn__sys_8h_ab40a7069739439d7b70cc4e19d0b9fe3}{tn\+\_\+callback\+\_\+stack\+\_\+overflow\+\_\+set}} (\mbox{\hyperlink{tn__sys_8h_a64b76c41f847eff5ee6c8bb0f337c946}{T\+N\+\_\+\+C\+B\+Stack\+Overflow}} $\ast$cb)
\begin{DoxyCompactList}\small\item\em Set callback function that is called when the kernel detects stack overflow (see {\ttfamily \#T\+N\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+V\+E\+R\+F\+L\+O\+W\+\_\+\+C\+H\+E\+CK}). \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8}{T\+N\+\_\+\+State\+Flag}} \mbox{\hyperlink{tn__sys_8h_a202fb30400101599c1e39ba4e58d2fd5}{tn\+\_\+sys\+\_\+state\+\_\+flags\+\_\+get}} (void)
\begin{DoxyCompactList}\small\item\em Returns current system state flags. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51}{T\+N\+\_\+\+Context}} \mbox{\hyperlink{tn__sys_8h_ac3233931746c9d8b84ebd34a2a3a468a}{tn\+\_\+sys\+\_\+context\+\_\+get}} (void)
\begin{DoxyCompactList}\small\item\em Returns system context\+: task or I\+SR. \end{DoxyCompactList}\item 
\mbox{\hyperlink{tn__arch__example_8h_a39b8c7b5ae653ec71be6f5a821eec3f6}{\+\_\+\+T\+N\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+I\+N\+L\+I\+NE}} \mbox{\hyperlink{tn__common_8h_a9f76389d1506addfc7542f54e484a92c}{T\+N\+\_\+\+B\+O\+OL}} \mbox{\hyperlink{tn__sys_8h_a75204c95f65f14283921931b3baada0a}{tn\+\_\+is\+\_\+task\+\_\+context}} (void)
\begin{DoxyCompactList}\small\item\em Returns whether current system context is {\ttfamily \#T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+T\+A\+SK} \end{DoxyCompactList}\item 
\mbox{\hyperlink{tn__arch__example_8h_a39b8c7b5ae653ec71be6f5a821eec3f6}{\+\_\+\+T\+N\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+I\+N\+L\+I\+NE}} \mbox{\hyperlink{tn__common_8h_a9f76389d1506addfc7542f54e484a92c}{T\+N\+\_\+\+B\+O\+OL}} \mbox{\hyperlink{tn__sys_8h_ad2b1d9eba4ab359a2632ecd986f4a42b}{tn\+\_\+is\+\_\+isr\+\_\+context}} (void)
\begin{DoxyCompactList}\small\item\em Returns whether current system context is {\ttfamily \#T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+I\+SR} \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structTN__Task}{T\+N\+\_\+\+Task}} $\ast$ \mbox{\hyperlink{tn__sys_8h_a2ca353dcf362a5aa8d2e5a3960e51410}{tn\+\_\+cur\+\_\+task\+\_\+get}} (void)
\begin{DoxyCompactList}\small\item\em Returns pointer to the currently running task. \end{DoxyCompactList}\item 
\mbox{\hyperlink{tn__common_8h_a603cbe1ffdafc7e6813ef692bbd7d22f}{T\+N\+\_\+\+Task\+Body}} $\ast$ \mbox{\hyperlink{tn__sys_8h_afa3c83dce52b17c9ee07b34af0fcebab}{tn\+\_\+cur\+\_\+task\+\_\+body\+\_\+get}} (void)
\begin{DoxyCompactList}\small\item\em Returns pointer to the body function of the currently running task. \end{DoxyCompactList}\item 
\mbox{\hyperlink{tn__arch__example_8h_a39b8c7b5ae653ec71be6f5a821eec3f6}{\+\_\+\+T\+N\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+I\+N\+L\+I\+NE}} \mbox{\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{T\+N\+\_\+\+U\+Word}} \mbox{\hyperlink{tn__sys_8h_af1502619506a9c92eb954e45ff0f461b}{tn\+\_\+sched\+\_\+dis\+\_\+save}} (void)
\begin{DoxyCompactList}\small\item\em Disable kernel scheduler and return previous scheduler state. \end{DoxyCompactList}\item 
\mbox{\hyperlink{tn__arch__example_8h_a39b8c7b5ae653ec71be6f5a821eec3f6}{\+\_\+\+T\+N\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+I\+N\+L\+I\+NE}} void \mbox{\hyperlink{tn__sys_8h_a4cd5c9113872b2008184c567907653bd}{tn\+\_\+sched\+\_\+restore}} (\mbox{\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{T\+N\+\_\+\+U\+Word}} sched\+\_\+state)
\begin{DoxyCompactList}\small\item\em Restore state of the kernel scheduler. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{tn__sys_8h_ab4e879240635c8f73e20905b8e499c1c}{tn\+\_\+callback\+\_\+dyn\+\_\+tick\+\_\+set}} (\mbox{\hyperlink{tn__timer_8h_a8c64f098ee0fa587a985d149b81bfba9}{T\+N\+\_\+\+C\+B\+Tick\+Schedule}} $\ast$cb\+\_\+tick\+\_\+schedule, \mbox{\hyperlink{tn__timer_8h_a4cc3440639e990e3a3015b95e805374a}{T\+N\+\_\+\+C\+B\+Tick\+Cnt\+Get}} $\ast$cb\+\_\+tick\+\_\+cnt\+\_\+get)
\begin{DoxyCompactList}\small\item\em {\itshape Available if only \mbox{\hyperlink{tn__cfg__default_8h_aaee875834a86f961318c584095c366fe}{{\ttfamily T\+N\+\_\+\+D\+Y\+N\+A\+M\+I\+C\+\_\+\+T\+I\+CK} }} is {\bfseries{set}}.} \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{tn__sys_8h_ad61af0f0e9ab96bdf1ac1bf1e03e3c75}\label{tn__sys_8h_ad61af0f0e9ab96bdf1ac1bf1e03e3c75}} 
\index{tn\_sys.h@{tn\_sys.h}!TN\_STACK\_ARR\_DEF@{TN\_STACK\_ARR\_DEF}}
\index{TN\_STACK\_ARR\_DEF@{TN\_STACK\_ARR\_DEF}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{TN\_STACK\_ARR\_DEF}{TN\_STACK\_ARR\_DEF}}
{\footnotesize\ttfamily \#define T\+N\+\_\+\+S\+T\+A\+C\+K\+\_\+\+A\+R\+R\+\_\+\+D\+EF(\begin{DoxyParamCaption}\item[{}]{name,  }\item[{}]{size }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{   TN\_ARCH\_STK\_ATTR\_BEFORE                   \(\backslash\)}
\DoxyCodeLine{   TN\_UWord name[ (size) ]                   \(\backslash\)}
\DoxyCodeLine{   \mbox{\hyperlink{tn__arch__example_8h_ab082613959b539182b8b47bc87d18d6a}{TN\_ARCH\_STK\_ATTR\_AFTER}}}

\end{DoxyCode}


Convenience macro for the definition of stack array. 

See {\ttfamily \mbox{\hyperlink{tn__tasks_8h_a548d5adda09d1b4e393b5df0e9e1a7a5}{tn\+\_\+task\+\_\+create()}}} for the usage example.


\begin{DoxyParams}{Parameters}
{\em name} & C variable name of the array \\
\hline
{\em size} & size of the stack array in words ({\ttfamily \#T\+N\+\_\+\+U\+Word}), not in bytes. \\
\hline
\end{DoxyParams}


Definition at line 87 of file tn\+\_\+sys.\+h.

\mbox{\Hypertarget{tn__sys_8h_ad98662c1f06abe650958bbf208414e18}\label{tn__sys_8h_ad98662c1f06abe650958bbf208414e18}} 
\index{tn\_sys.h@{tn\_sys.h}!\_TN\_BUILD\_CFG\_ARCH\_STRUCT\_FILL@{\_TN\_BUILD\_CFG\_ARCH\_STRUCT\_FILL}}
\index{\_TN\_BUILD\_CFG\_ARCH\_STRUCT\_FILL@{\_TN\_BUILD\_CFG\_ARCH\_STRUCT\_FILL}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{\_TN\_BUILD\_CFG\_ARCH\_STRUCT\_FILL}{\_TN\_BUILD\_CFG\_ARCH\_STRUCT\_FILL}}
{\footnotesize\ttfamily \#define \+\_\+\+T\+N\+\_\+\+B\+U\+I\+L\+D\+\_\+\+C\+F\+G\+\_\+\+A\+R\+C\+H\+\_\+\+S\+T\+R\+U\+C\+T\+\_\+\+F\+I\+LL(\begin{DoxyParamCaption}\item[{}]{\+\_\+p\+\_\+struct }\end{DoxyParamCaption})}



For internal kernel usage\+: helper macro that fills architecture-\/dependent values. 

This macro is used by {\ttfamily \#\mbox{\hyperlink{tn__sys_8h_a7784d4218225b2cbd087628bad0d544a}{\+\_\+\+T\+N\+\_\+\+B\+U\+I\+L\+D\+\_\+\+C\+F\+G\+\_\+\+S\+T\+R\+U\+C\+T\+\_\+\+F\+I\+L\+L()}}} only. 

Definition at line 107 of file tn\+\_\+sys.\+h.

\mbox{\Hypertarget{tn__sys_8h_a7784d4218225b2cbd087628bad0d544a}\label{tn__sys_8h_a7784d4218225b2cbd087628bad0d544a}} 
\index{tn\_sys.h@{tn\_sys.h}!\_TN\_BUILD\_CFG\_STRUCT\_FILL@{\_TN\_BUILD\_CFG\_STRUCT\_FILL}}
\index{\_TN\_BUILD\_CFG\_STRUCT\_FILL@{\_TN\_BUILD\_CFG\_STRUCT\_FILL}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{\_TN\_BUILD\_CFG\_STRUCT\_FILL}{\_TN\_BUILD\_CFG\_STRUCT\_FILL}}
{\footnotesize\ttfamily \#define \+\_\+\+T\+N\+\_\+\+B\+U\+I\+L\+D\+\_\+\+C\+F\+G\+\_\+\+S\+T\+R\+U\+C\+T\+\_\+\+F\+I\+LL(\begin{DoxyParamCaption}\item[{}]{\+\_\+p\+\_\+struct }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{                                                                       \(\backslash\)}
\DoxyCodeLine{   memset((\_p\_struct), 0x00, \textcolor{keyword}{sizeof}(*(\_p\_struct)));                     \(\backslash\)}
\DoxyCodeLine{                                                                        \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>priorities\_cnt            = \mbox{\hyperlink{tn__cfg__default_8h_aad74a059c61567c68a1e9067ab47a256}{TN\_PRIORITIES\_CNT}};          \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>check\_param               = \mbox{\hyperlink{tn__cfg__default_8h_a1f197294df3276fec431930545acafd5}{TN\_CHECK\_PARAM}};             \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>debug                     = \mbox{\hyperlink{tn__cfg__default_8h_a9d2b6d902efdbc56094bb913413aa69c}{TN\_DEBUG}};                   \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>use\_mutexes               = \mbox{\hyperlink{tn__cfg__default_8h_a7ce674edab5345c4b8d2ec251eea18eb}{TN\_USE\_MUTEXES}};             \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>mutex\_rec                 = \mbox{\hyperlink{tn__cfg__default_8h_a2557da78508c4241aceee92475df3581}{TN\_MUTEX\_REC}};               \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>mutex\_deadlock\_detect     = \mbox{\hyperlink{tn__cfg__default_8h_a6ed3ec7b0d4338e7f60dde86b7ea5fa4}{TN\_MUTEX\_DEADLOCK\_DETECT}};   \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>tick\_lists\_cnt\_minus\_one  = (\mbox{\hyperlink{tn__cfg__default_8h_afef2a6ec1baa81edaa979024af0c924a}{TN\_TICK\_LISTS\_CNT}} -\/ 1);    \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>api\_make\_alig\_arg         = \mbox{\hyperlink{tn__cfg__default_8h_a2a1148efc6a74131cc83ee50cbc386cd}{TN\_API\_MAKE\_ALIG\_ARG}};       \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>profiler                  = \mbox{\hyperlink{tn__cfg__default_8h_a49a546b18cc1f75b51d4cf8b290634dd}{TN\_PROFILER}};                \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>profiler\_wait\_time        = \mbox{\hyperlink{tn__cfg__default_8h_a1c04db5457adb54f7cc38d42b29a5ad7}{TN\_PROFILER\_WAIT\_TIME}};      \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>stack\_overflow\_check      = \mbox{\hyperlink{tn__cfg__default_8h_ac6a9bbac3b3b25d9b5bc8c21d2e09955}{TN\_STACK\_OVERFLOW\_CHECK}};    \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>dynamic\_tick              = \mbox{\hyperlink{tn__cfg__default_8h_aaee875834a86f961318c584095c366fe}{TN\_DYNAMIC\_TICK}};            \(\backslash\)}
\DoxyCodeLine{   (\_p\_struct)-\/>old\_events\_api            = \mbox{\hyperlink{tn__cfg__default_8h_ac61d5f6a716cdcab205a2c8afbde4242}{TN\_OLD\_EVENT\_API}};           \mbox{\hyperlink{tn__sys_8h_ad98662c1f06abe650958bbf208414e18}{\(\backslash\)}}}
\DoxyCodeLine{\mbox{\hyperlink{tn__sys_8h_ad98662c1f06abe650958bbf208414e18}{                                                                        \(\backslash\)}}}
\DoxyCodeLine{\mbox{\hyperlink{tn__sys_8h_ad98662c1f06abe650958bbf208414e18}{   \_TN\_BUILD\_CFG\_ARCH\_STRUCT\_FILL}}(\_p\_struct);                           \(\backslash\)}
\DoxyCodeLine{\}}

\end{DoxyCode}


For internal kernel usage\+: fill the structure {\ttfamily \#\mbox{\hyperlink{struct__TN__BuildCfg}{\+\_\+\+T\+N\+\_\+\+Build\+Cfg}}} with current build-\/time configuration values. 


\begin{DoxyParams}{Parameters}
{\em \+\_\+p\+\_\+struct} & Pointer to struct {\ttfamily \#\mbox{\hyperlink{struct__TN__BuildCfg}{\+\_\+\+T\+N\+\_\+\+Build\+Cfg}}} \\
\hline
\end{DoxyParams}


Definition at line 119 of file tn\+\_\+sys.\+h.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{tn__sys_8h_aaa9bbc6c586cf6ce8d982b8d79bc27d6}\label{tn__sys_8h_aaa9bbc6c586cf6ce8d982b8d79bc27d6}} 
\index{tn\_sys.h@{tn\_sys.h}!TN\_CBUserTaskCreate@{TN\_CBUserTaskCreate}}
\index{TN\_CBUserTaskCreate@{TN\_CBUserTaskCreate}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{TN\_CBUserTaskCreate}{TN\_CBUserTaskCreate}}
{\footnotesize\ttfamily typedef void() T\+N\+\_\+\+C\+B\+User\+Task\+Create(void)}



User-\/provided callback function that is called directly from {\ttfamily \mbox{\hyperlink{tn__sys_8h_a62ab25d9d8ca01c02d368968f19e49bf}{tn\+\_\+sys\+\_\+start()}}} as a part of system startup routine; it should merely create at least one (and typically just one) user\textquotesingle{}s task, which should perform all the rest application initialization. 

When {\ttfamily \mbox{\hyperlink{tn__sys_8h_aaa9bbc6c586cf6ce8d982b8d79bc27d6}{T\+N\+\_\+\+C\+B\+User\+Task\+Create()}}} returned, the kernel performs first context switch to the task with highest priority. If there are several tasks with highest priority, context is switched to the first created one.

Refer to the section \mbox{\hyperlink{quick_guide_starting_the_kernel}{Starting the kernel}} for details about system startup process on the whole.

{\bfseries{Note\+:}} Although you\textquotesingle{}re able to create more than one task here, it\textquotesingle{}s usually not so good idea, because many things typically should be done at startup before tasks can go on with their job\+: we need to initialize various on-\/board peripherals (displays, flash memory chips, or whatever) as well as initialize software modules used by application. So, if many tasks are created here, you have to provide some synchronization object so that tasks will wait until all the initialization is done.

It\textquotesingle{}s usually easier to maintain if we create just one task here, which firstly performs all the necessary initialization, {\bfseries{then}} creates the rest of your tasks, and eventually gets to its primary job (the job for which task was created at all). For the usage example, refer to the page \mbox{\hyperlink{quick_guide_starting_the_kernel}{Starting the kernel}}.

\begin{DoxyAttention}{Attention}

\begin{DoxyItemize}
\item The only system service is allowed to call in this function is {\ttfamily \mbox{\hyperlink{tn__tasks_8h_a548d5adda09d1b4e393b5df0e9e1a7a5}{tn\+\_\+task\+\_\+create()}}}.
\end{DoxyItemize}
\end{DoxyAttention}
\begin{DoxySeeAlso}{See also}
{\ttfamily \mbox{\hyperlink{tn__sys_8h_a62ab25d9d8ca01c02d368968f19e49bf}{tn\+\_\+sys\+\_\+start()}}} 
\end{DoxySeeAlso}


Definition at line 294 of file tn\+\_\+sys.\+h.

\mbox{\Hypertarget{tn__sys_8h_ac3811d563ff671cb7bd1519735e20fd1}\label{tn__sys_8h_ac3811d563ff671cb7bd1519735e20fd1}} 
\index{tn\_sys.h@{tn\_sys.h}!TN\_CBIdle@{TN\_CBIdle}}
\index{TN\_CBIdle@{TN\_CBIdle}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{TN\_CBIdle}{TN\_CBIdle}}
{\footnotesize\ttfamily typedef void() T\+N\+\_\+\+C\+B\+Idle(void)}



User-\/provided callback function which is called repeatedly from the idle task loop. 

Make sure that idle task has enough stack space to call this function.

Typically, this callback can be used for things like\+:


\begin{DoxyItemize}
\item M\+CU sleep/idle mode. When system has nothing to do, it often makes sense to bring processor to some power-\/saving mode. Of course, the application is responsible for setting some condition to wake up\+: typically, it\textquotesingle{}s an interrupt.
\item Calculation of system load. The easiest implementation is to just increment some variable in the idle task. The faster value grows, the less busy system is.
\end{DoxyItemize}

\begin{DoxyAttention}{Attention}

\begin{DoxyItemize}
\item From withing this callback, it is illegal to invoke {\ttfamily \#\mbox{\hyperlink{tn__tasks_8h_ae768a72ca0efde5767796cc1770bd45e}{tn\+\_\+task\+\_\+sleep()}}} or any other service which could put task to waiting state, because idle task (from which this function is called) should always be runnable, by design. If {\ttfamily \#T\+N\+\_\+\+D\+E\+B\+UG} option is set, then this is checked, so if idle task becomes non-\/runnable, {\ttfamily \+\_\+\+T\+N\+\_\+\+F\+A\+T\+A\+L\+\_\+\+E\+R\+R\+O\+R()} macro will be called.
\end{DoxyItemize}
\end{DoxyAttention}
\begin{DoxySeeAlso}{See also}
{\ttfamily \mbox{\hyperlink{tn__sys_8h_a62ab25d9d8ca01c02d368968f19e49bf}{tn\+\_\+sys\+\_\+start()}}} 
\end{DoxySeeAlso}


Definition at line 321 of file tn\+\_\+sys.\+h.

\mbox{\Hypertarget{tn__sys_8h_a64b76c41f847eff5ee6c8bb0f337c946}\label{tn__sys_8h_a64b76c41f847eff5ee6c8bb0f337c946}} 
\index{tn\_sys.h@{tn\_sys.h}!TN\_CBStackOverflow@{TN\_CBStackOverflow}}
\index{TN\_CBStackOverflow@{TN\_CBStackOverflow}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{TN\_CBStackOverflow}{TN\_CBStackOverflow}}
{\footnotesize\ttfamily typedef void() T\+N\+\_\+\+C\+B\+Stack\+Overflow(struct \mbox{\hyperlink{structTN__Task}{T\+N\+\_\+\+Task}} $\ast$task)}



User-\/provided callback function that is called when the kernel detects stack overflow (see {\ttfamily \#T\+N\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+V\+E\+R\+F\+L\+O\+W\+\_\+\+C\+H\+E\+CK}). 


\begin{DoxyParams}{Parameters}
{\em task} & Task whose stack is overflowed \\
\hline
\end{DoxyParams}


Definition at line 330 of file tn\+\_\+sys.\+h.

\mbox{\Hypertarget{tn__sys_8h_a3a0439b7ba640754949f6d2c8e4ccc06}\label{tn__sys_8h_a3a0439b7ba640754949f6d2c8e4ccc06}} 
\index{tn\_sys.h@{tn\_sys.h}!TN\_CBDeadlock@{TN\_CBDeadlock}}
\index{TN\_CBDeadlock@{TN\_CBDeadlock}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{TN\_CBDeadlock}{TN\_CBDeadlock}}
{\footnotesize\ttfamily typedef void() T\+N\+\_\+\+C\+B\+Deadlock(\mbox{\hyperlink{tn__common_8h_a9f76389d1506addfc7542f54e484a92c}{T\+N\+\_\+\+B\+O\+OL}} active, struct \mbox{\hyperlink{structTN__Mutex}{T\+N\+\_\+\+Mutex}} $\ast$mutex, struct \mbox{\hyperlink{structTN__Task}{T\+N\+\_\+\+Task}} $\ast$task)}



User-\/provided callback function that is called whenever deadlock becomes active or inactive. 

Note\+: this feature works if only {\ttfamily \#T\+N\+\_\+\+M\+U\+T\+E\+X\+\_\+\+D\+E\+A\+D\+L\+O\+C\+K\+\_\+\+D\+E\+T\+E\+CT} is non-\/zero.


\begin{DoxyParams}{Parameters}
{\em active} & Boolean value indicating whether deadlock becomes active or inactive. Note\+: deadlock might become inactive if, for example, one of tasks involved in deadlock exits from waiting by timeout.\\
\hline
{\em mutex} & mutex that is involved in deadlock. You may find out other mutexes involved by means of {\ttfamily mutex-\/$>$deadlock\+\_\+list}.\\
\hline
{\em task} & task that is involved in deadlock. You may find out other tasks involved by means of {\ttfamily task-\/$>$deadlock\+\_\+list}. \\
\hline
\end{DoxyParams}


Definition at line 350 of file tn\+\_\+sys.\+h.



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8}\label{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8}} 
\index{tn\_sys.h@{tn\_sys.h}!TN\_StateFlag@{TN\_StateFlag}}
\index{TN\_StateFlag@{TN\_StateFlag}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{TN\_StateFlag}{TN\_StateFlag}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8}{T\+N\+\_\+\+State\+Flag}}}



System state flags. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{TN\_STATE\_FLAG\_\_SYS\_RUNNING@{TN\_STATE\_FLAG\_\_SYS\_RUNNING}!tn\_sys.h@{tn\_sys.h}}\index{tn\_sys.h@{tn\_sys.h}!TN\_STATE\_FLAG\_\_SYS\_RUNNING@{TN\_STATE\_FLAG\_\_SYS\_RUNNING}}}\mbox{\Hypertarget{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8aa5085b1c78bc7e75aeac04a76cab6a52}\label{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8aa5085b1c78bc7e75aeac04a76cab6a52}} 
T\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+L\+A\+G\+\_\+\+\_\+\+S\+Y\+S\+\_\+\+R\+U\+N\+N\+I\+NG&system is running \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TN\_STATE\_FLAG\_\_DEADLOCK@{TN\_STATE\_FLAG\_\_DEADLOCK}!tn\_sys.h@{tn\_sys.h}}\index{tn\_sys.h@{tn\_sys.h}!TN\_STATE\_FLAG\_\_DEADLOCK@{TN\_STATE\_FLAG\_\_DEADLOCK}}}\mbox{\Hypertarget{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8a188c405a2cde555e7aaaeaa1189a4580}\label{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8a188c405a2cde555e7aaaeaa1189a4580}} 
T\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+L\+A\+G\+\_\+\+\_\+\+D\+E\+A\+D\+L\+O\+CK&deadlock is active Note\+: this feature works if only {\ttfamily \#T\+N\+\_\+\+M\+U\+T\+E\+X\+\_\+\+D\+E\+A\+D\+L\+O\+C\+K\+\_\+\+D\+E\+T\+E\+CT} is non-\/zero. \begin{DoxySeeAlso}{See also}
{\ttfamily \#\mbox{\hyperlink{tn__cfg__default_8h_a6ed3ec7b0d4338e7f60dde86b7ea5fa4}{T\+N\+\_\+\+M\+U\+T\+E\+X\+\_\+\+D\+E\+A\+D\+L\+O\+C\+K\+\_\+\+D\+E\+T\+E\+CT}}} 
\end{DoxySeeAlso}
\\
\hline

\end{DoxyEnumFields}


Definition at line 232 of file tn\+\_\+sys.\+h.

\mbox{\Hypertarget{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51}\label{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51}} 
\index{tn\_sys.h@{tn\_sys.h}!TN\_Context@{TN\_Context}}
\index{TN\_Context@{TN\_Context}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{TN\_Context}{TN\_Context}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51}{T\+N\+\_\+\+Context}}}



System context. 

\begin{DoxySeeAlso}{See also}
{\ttfamily \mbox{\hyperlink{tn__sys_8h_ac3233931746c9d8b84ebd34a2a3a468a}{tn\+\_\+sys\+\_\+context\+\_\+get()}}} 
\end{DoxySeeAlso}
\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{TN\_CONTEXT\_NONE@{TN\_CONTEXT\_NONE}!tn\_sys.h@{tn\_sys.h}}\index{tn\_sys.h@{tn\_sys.h}!TN\_CONTEXT\_NONE@{TN\_CONTEXT\_NONE}}}\mbox{\Hypertarget{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51ac6015804609fb2bb71335015c51c40a3}\label{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51ac6015804609fb2bb71335015c51c40a3}} 
T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+N\+O\+NE&None\+: this code is possible if only system is not running (flag ({\ttfamily \#T\+N\+\_\+\+S\+T\+A\+T\+E\+\_\+\+F\+L\+A\+G\+\_\+\+\_\+\+S\+Y\+S\+\_\+\+R\+U\+N\+N\+I\+NG} is not set in the {\ttfamily \+\_\+tn\+\_\+sys\+\_\+state})) \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TN\_CONTEXT\_TASK@{TN\_CONTEXT\_TASK}!tn\_sys.h@{tn\_sys.h}}\index{tn\_sys.h@{tn\_sys.h}!TN\_CONTEXT\_TASK@{TN\_CONTEXT\_TASK}}}\mbox{\Hypertarget{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51ab78bafeb369a85700f793a7375e38ec6}\label{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51ab78bafeb369a85700f793a7375e38ec6}} 
T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+T\+A\+SK&Task context. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{TN\_CONTEXT\_ISR@{TN\_CONTEXT\_ISR}!tn\_sys.h@{tn\_sys.h}}\index{tn\_sys.h@{tn\_sys.h}!TN\_CONTEXT\_ISR@{TN\_CONTEXT\_ISR}}}\mbox{\Hypertarget{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51a4b0defef531f47e8cf5dc274355b6626}\label{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51a4b0defef531f47e8cf5dc274355b6626}} 
T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+I\+SR&I\+SR context. \\
\hline

\end{DoxyEnumFields}


Definition at line 248 of file tn\+\_\+sys.\+h.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{tn__sys_8h_a62ab25d9d8ca01c02d368968f19e49bf}\label{tn__sys_8h_a62ab25d9d8ca01c02d368968f19e49bf}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_sys\_start@{tn\_sys\_start}}
\index{tn\_sys\_start@{tn\_sys\_start}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_sys\_start()}{tn\_sys\_start()}}
{\footnotesize\ttfamily void tn\+\_\+sys\+\_\+start (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{T\+N\+\_\+\+U\+Word}} $\ast$}]{idle\+\_\+task\+\_\+stack,  }\item[{unsigned int}]{idle\+\_\+task\+\_\+stack\+\_\+size,  }\item[{\mbox{\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{T\+N\+\_\+\+U\+Word}} $\ast$}]{int\+\_\+stack,  }\item[{unsigned int}]{int\+\_\+stack\+\_\+size,  }\item[{\mbox{\hyperlink{tn__sys_8h_aaa9bbc6c586cf6ce8d982b8d79bc27d6}{T\+N\+\_\+\+C\+B\+User\+Task\+Create}} $\ast$}]{cb\+\_\+user\+\_\+task\+\_\+create,  }\item[{\mbox{\hyperlink{tn__sys_8h_ac3811d563ff671cb7bd1519735e20fd1}{T\+N\+\_\+\+C\+B\+Idle}} $\ast$}]{cb\+\_\+idle }\end{DoxyParamCaption})}



Initial T\+Neo system start function, never returns. 

Typically called from main().

Refer to the \mbox{\hyperlink{quick_guide_starting_the_kernel}{Starting the kernel}} section for the usage example and additional comments.


\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize 


\begin{DoxyParams}{Parameters}
{\em idle\+\_\+task\+\_\+stack} & ~\newline
 Pointer to array for idle task stack. User must either use the macro {\ttfamily \mbox{\hyperlink{tn__sys_8h_ad61af0f0e9ab96bdf1ac1bf1e03e3c75}{T\+N\+\_\+\+S\+T\+A\+C\+K\+\_\+\+A\+R\+R\+\_\+\+D\+E\+F()}}} for the definition of stack array, or allocate it manually as an array of {\ttfamily \#T\+N\+\_\+\+U\+Word} with {\ttfamily \#T\+N\+\_\+\+A\+R\+C\+H\+\_\+\+S\+T\+K\+\_\+\+A\+T\+T\+R\+\_\+\+B\+E\+F\+O\+RE} and {\ttfamily \#T\+N\+\_\+\+A\+R\+C\+H\+\_\+\+S\+T\+K\+\_\+\+A\+T\+T\+R\+\_\+\+A\+F\+T\+ER} macros. \\
\hline
{\em idle\+\_\+task\+\_\+stack\+\_\+size} & Size of idle task stack, in words ({\ttfamily \#T\+N\+\_\+\+U\+Word}) \\
\hline
{\em int\+\_\+stack} & ~\newline
 Pointer to array for interrupt stack. User must either use the macro {\ttfamily \mbox{\hyperlink{tn__sys_8h_ad61af0f0e9ab96bdf1ac1bf1e03e3c75}{T\+N\+\_\+\+S\+T\+A\+C\+K\+\_\+\+A\+R\+R\+\_\+\+D\+E\+F()}}} for the definition of stack array, or allocate it manually as an array of {\ttfamily \#T\+N\+\_\+\+U\+Word} with {\ttfamily \#T\+N\+\_\+\+A\+R\+C\+H\+\_\+\+S\+T\+K\+\_\+\+A\+T\+T\+R\+\_\+\+B\+E\+F\+O\+RE} and {\ttfamily \#T\+N\+\_\+\+A\+R\+C\+H\+\_\+\+S\+T\+K\+\_\+\+A\+T\+T\+R\+\_\+\+A\+F\+T\+ER} macros. \\
\hline
{\em int\+\_\+stack\+\_\+size} & ~\newline
 Size of interrupt stack, in words ({\ttfamily \#T\+N\+\_\+\+U\+Word}) \\
\hline
{\em cb\+\_\+user\+\_\+task\+\_\+create} & Callback function that should create initial user\textquotesingle{}s task, see {\ttfamily \#T\+N\+\_\+\+C\+B\+User\+Task\+Create} for details. \\
\hline
{\em cb\+\_\+idle} & ~\newline
 Callback function repeatedly called from idle task, see {\ttfamily \#T\+N\+\_\+\+C\+B\+Idle} for details. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{tn__sys_8h_aa44d297639e0520420890ef2bb7e2c1c}\label{tn__sys_8h_aa44d297639e0520420890ef2bb7e2c1c}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_tick\_int\_processing@{tn\_tick\_int\_processing}}
\index{tn\_tick\_int\_processing@{tn\_tick\_int\_processing}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_tick\_int\_processing()}{tn\_tick\_int\_processing()}}
{\footnotesize\ttfamily void tn\+\_\+tick\+\_\+int\+\_\+processing (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Process system tick; should be called periodically, typically from some kind of timer I\+SR. 

The period of this timer is determined by user (typically 1 ms, but user is free to set different value)

Among other things, expired \mbox{\hyperlink{tn__timer_8h}{timers}} are fired from this function.

For further information, refer to \mbox{\hyperlink{quick_guide}{Quick guide}}.

  \includegraphics{attr_call_int.png}    \includegraphics{attr_call_ct_sw.png}  
\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize  \mbox{\Hypertarget{tn__sys_8h_a05fc370b6faa604fd8ff9411361c4cd0}\label{tn__sys_8h_a05fc370b6faa604fd8ff9411361c4cd0}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_sys\_tslice\_set@{tn\_sys\_tslice\_set}}
\index{tn\_sys\_tslice\_set@{tn\_sys\_tslice\_set}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_sys\_tslice\_set()}{tn\_sys\_tslice\_set()}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876}{T\+N\+\_\+\+R\+Code}} tn\+\_\+sys\+\_\+tslice\+\_\+set (\begin{DoxyParamCaption}\item[{int}]{priority,  }\item[{int}]{ticks }\end{DoxyParamCaption})}



Set time slice ticks value for specified priority (see \mbox{\hyperlink{quick_guide_round_robin}{Round-\/robin scheduling}}). 

  \includegraphics{attr_call_task.png}  
\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize 


\begin{DoxyParams}{Parameters}
{\em priority} & Priority of tasks for which time slice value should be set \\
\hline
{\em ticks} & Time slice value, in ticks. Set to {\ttfamily \#T\+N\+\_\+\+N\+O\+\_\+\+T\+I\+M\+E\+\_\+\+S\+L\+I\+CE} for no round-\/robin scheduling for given priority (it\textquotesingle{}s default value). Value can\textquotesingle{}t be higher than {\ttfamily \#T\+N\+\_\+\+M\+A\+X\+\_\+\+T\+I\+M\+E\+\_\+\+S\+L\+I\+CE}.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item {\ttfamily \#T\+N\+\_\+\+R\+C\+\_\+\+OK} on success;
\item {\ttfamily \#T\+N\+\_\+\+R\+C\+\_\+\+W\+C\+O\+N\+T\+E\+XT} if called from wrong context;
\item {\ttfamily \#T\+N\+\_\+\+R\+C\+\_\+\+W\+P\+A\+R\+AM} if given {\ttfamily priority} or {\ttfamily ticks} are invalid. 
\end{DoxyItemize}
\end{DoxyReturn}
\mbox{\Hypertarget{tn__sys_8h_a4864ca85d87bab0fa95ce11aefcd1a92}\label{tn__sys_8h_a4864ca85d87bab0fa95ce11aefcd1a92}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_sys\_time\_get@{tn\_sys\_time\_get}}
\index{tn\_sys\_time\_get@{tn\_sys\_time\_get}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_sys\_time\_get()}{tn\_sys\_time\_get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{tn__common_8h_ac885b63d00c063de61cdbd80bf26d8aa}{T\+N\+\_\+\+Tick\+Cnt}} tn\+\_\+sys\+\_\+time\+\_\+get (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get current system ticks count. 

  \includegraphics{attr_call_task.png}    \includegraphics{attr_call_int.png}  
\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize 

\begin{DoxyReturn}{Returns}
Current system ticks count. 
\end{DoxyReturn}
\mbox{\Hypertarget{tn__sys_8h_aaa4a5c2feb4a0db5993b81dde496edc3}\label{tn__sys_8h_aaa4a5c2feb4a0db5993b81dde496edc3}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_callback\_deadlock\_set@{tn\_callback\_deadlock\_set}}
\index{tn\_callback\_deadlock\_set@{tn\_callback\_deadlock\_set}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_callback\_deadlock\_set()}{tn\_callback\_deadlock\_set()}}
{\footnotesize\ttfamily void tn\+\_\+callback\+\_\+deadlock\+\_\+set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tn__sys_8h_a3a0439b7ba640754949f6d2c8e4ccc06}{T\+N\+\_\+\+C\+B\+Deadlock}} $\ast$}]{cb }\end{DoxyParamCaption})}



Set callback function that should be called whenever deadlock occurs or becomes inactive (say, if one of tasks involved in the deadlock was released from wait because of timeout) 


\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize 

{\bfseries{Note\+:}} this function should be called from {\ttfamily main()}, before {\ttfamily \mbox{\hyperlink{tn__sys_8h_a62ab25d9d8ca01c02d368968f19e49bf}{tn\+\_\+sys\+\_\+start()}}}.


\begin{DoxyParams}{Parameters}
{\em cb} & Pointer to user-\/provided callback function.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
{\ttfamily \#\mbox{\hyperlink{tn__cfg__default_8h_a6ed3ec7b0d4338e7f60dde86b7ea5fa4}{T\+N\+\_\+\+M\+U\+T\+E\+X\+\_\+\+D\+E\+A\+D\+L\+O\+C\+K\+\_\+\+D\+E\+T\+E\+CT}}} 

{\ttfamily \#\mbox{\hyperlink{tn__sys_8h_a3a0439b7ba640754949f6d2c8e4ccc06}{T\+N\+\_\+\+C\+B\+Deadlock}}} for callback function prototype 
\end{DoxySeeAlso}
\mbox{\Hypertarget{tn__sys_8h_ab40a7069739439d7b70cc4e19d0b9fe3}\label{tn__sys_8h_ab40a7069739439d7b70cc4e19d0b9fe3}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_callback\_stack\_overflow\_set@{tn\_callback\_stack\_overflow\_set}}
\index{tn\_callback\_stack\_overflow\_set@{tn\_callback\_stack\_overflow\_set}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_callback\_stack\_overflow\_set()}{tn\_callback\_stack\_overflow\_set()}}
{\footnotesize\ttfamily void tn\+\_\+callback\+\_\+stack\+\_\+overflow\+\_\+set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tn__sys_8h_a64b76c41f847eff5ee6c8bb0f337c946}{T\+N\+\_\+\+C\+B\+Stack\+Overflow}} $\ast$}]{cb }\end{DoxyParamCaption})}



Set callback function that is called when the kernel detects stack overflow (see {\ttfamily \#T\+N\+\_\+\+S\+T\+A\+C\+K\+\_\+\+O\+V\+E\+R\+F\+L\+O\+W\+\_\+\+C\+H\+E\+CK}). 

For function prototype, refer to {\ttfamily \#T\+N\+\_\+\+C\+B\+Stack\+Overflow}. \mbox{\Hypertarget{tn__sys_8h_a202fb30400101599c1e39ba4e58d2fd5}\label{tn__sys_8h_a202fb30400101599c1e39ba4e58d2fd5}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_sys\_state\_flags\_get@{tn\_sys\_state\_flags\_get}}
\index{tn\_sys\_state\_flags\_get@{tn\_sys\_state\_flags\_get}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_sys\_state\_flags\_get()}{tn\_sys\_state\_flags\_get()}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{tn__sys_8h_ace9542d94b996fb2070cd57d6658a2d8}{T\+N\+\_\+\+State\+Flag}} tn\+\_\+sys\+\_\+state\+\_\+flags\+\_\+get (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Returns current system state flags. 

  \includegraphics{attr_call_task.png}    \includegraphics{attr_call_int.png}  
\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize  \mbox{\Hypertarget{tn__sys_8h_ac3233931746c9d8b84ebd34a2a3a468a}\label{tn__sys_8h_ac3233931746c9d8b84ebd34a2a3a468a}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_sys\_context\_get@{tn\_sys\_context\_get}}
\index{tn\_sys\_context\_get@{tn\_sys\_context\_get}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_sys\_context\_get()}{tn\_sys\_context\_get()}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51}{T\+N\+\_\+\+Context}} tn\+\_\+sys\+\_\+context\+\_\+get (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Returns system context\+: task or I\+SR. 

  \includegraphics{attr_call_task.png}    \includegraphics{attr_call_int.png}   
\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize 

\begin{DoxySeeAlso}{See also}
{\ttfamily enum \#\mbox{\hyperlink{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51}{T\+N\+\_\+\+Context}}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{tn__sys_8h_a75204c95f65f14283921931b3baada0a}\label{tn__sys_8h_a75204c95f65f14283921931b3baada0a}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_is\_task\_context@{tn\_is\_task\_context}}
\index{tn\_is\_task\_context@{tn\_is\_task\_context}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_is\_task\_context()}{tn\_is\_task\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{tn__arch__example_8h_a39b8c7b5ae653ec71be6f5a821eec3f6}{\+\_\+\+T\+N\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+I\+N\+L\+I\+NE}} \mbox{\hyperlink{tn__common_8h_a9f76389d1506addfc7542f54e484a92c}{T\+N\+\_\+\+B\+O\+OL}} tn\+\_\+is\+\_\+task\+\_\+context (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Returns whether current system context is {\ttfamily \#T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+T\+A\+SK} 

  \includegraphics{attr_call_task.png}    \includegraphics{attr_call_int.png}   
\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize 

\begin{DoxyReturn}{Returns}
{\ttfamily T\+N\+\_\+\+T\+R\+UE} if current system context is {\ttfamily \#T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+T\+A\+SK}, {\ttfamily T\+N\+\_\+\+F\+A\+L\+SE} otherwise.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
{\ttfamily \mbox{\hyperlink{tn__sys_8h_ac3233931746c9d8b84ebd34a2a3a468a}{tn\+\_\+sys\+\_\+context\+\_\+get()}}} 

{\ttfamily enum \#\mbox{\hyperlink{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51}{T\+N\+\_\+\+Context}}} 
\end{DoxySeeAlso}


Definition at line 533 of file tn\+\_\+sys.\+h.

\mbox{\Hypertarget{tn__sys_8h_ad2b1d9eba4ab359a2632ecd986f4a42b}\label{tn__sys_8h_ad2b1d9eba4ab359a2632ecd986f4a42b}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_is\_isr\_context@{tn\_is\_isr\_context}}
\index{tn\_is\_isr\_context@{tn\_is\_isr\_context}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_is\_isr\_context()}{tn\_is\_isr\_context()}}
{\footnotesize\ttfamily \mbox{\hyperlink{tn__arch__example_8h_a39b8c7b5ae653ec71be6f5a821eec3f6}{\+\_\+\+T\+N\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+I\+N\+L\+I\+NE}} \mbox{\hyperlink{tn__common_8h_a9f76389d1506addfc7542f54e484a92c}{T\+N\+\_\+\+B\+O\+OL}} tn\+\_\+is\+\_\+isr\+\_\+context (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Returns whether current system context is {\ttfamily \#T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+I\+SR} 

  \includegraphics{attr_call_task.png}    \includegraphics{attr_call_int.png}   
\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize 

\begin{DoxyReturn}{Returns}
{\ttfamily T\+N\+\_\+\+T\+R\+UE} if current system context is {\ttfamily \#T\+N\+\_\+\+C\+O\+N\+T\+E\+X\+T\+\_\+\+I\+SR}, {\ttfamily T\+N\+\_\+\+F\+A\+L\+SE} otherwise.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
{\ttfamily \mbox{\hyperlink{tn__sys_8h_ac3233931746c9d8b84ebd34a2a3a468a}{tn\+\_\+sys\+\_\+context\+\_\+get()}}} 

{\ttfamily enum \#\mbox{\hyperlink{tn__sys_8h_a54b0c697dfdb3b59e7bcc6eb7badda51}{T\+N\+\_\+\+Context}}} 
\end{DoxySeeAlso}


Definition at line 552 of file tn\+\_\+sys.\+h.

\mbox{\Hypertarget{tn__sys_8h_a2ca353dcf362a5aa8d2e5a3960e51410}\label{tn__sys_8h_a2ca353dcf362a5aa8d2e5a3960e51410}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_cur\_task\_get@{tn\_cur\_task\_get}}
\index{tn\_cur\_task\_get@{tn\_cur\_task\_get}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_cur\_task\_get()}{tn\_cur\_task\_get()}}
{\footnotesize\ttfamily struct \mbox{\hyperlink{structTN__Task}{T\+N\+\_\+\+Task}}$\ast$ tn\+\_\+cur\+\_\+task\+\_\+get (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Returns pointer to the currently running task. 

  \includegraphics{attr_call_task.png}    \includegraphics{attr_call_int.png}  
\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize  \mbox{\Hypertarget{tn__sys_8h_afa3c83dce52b17c9ee07b34af0fcebab}\label{tn__sys_8h_afa3c83dce52b17c9ee07b34af0fcebab}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_cur\_task\_body\_get@{tn\_cur\_task\_body\_get}}
\index{tn\_cur\_task\_body\_get@{tn\_cur\_task\_body\_get}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_cur\_task\_body\_get()}{tn\_cur\_task\_body\_get()}}
{\footnotesize\ttfamily \mbox{\hyperlink{tn__common_8h_a603cbe1ffdafc7e6813ef692bbd7d22f}{T\+N\+\_\+\+Task\+Body}}$\ast$ tn\+\_\+cur\+\_\+task\+\_\+body\+\_\+get (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Returns pointer to the body function of the currently running task. 

  \includegraphics{attr_call_task.png}    \includegraphics{attr_call_int.png}  
\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize  \mbox{\Hypertarget{tn__sys_8h_af1502619506a9c92eb954e45ff0f461b}\label{tn__sys_8h_af1502619506a9c92eb954e45ff0f461b}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_sched\_dis\_save@{tn\_sched\_dis\_save}}
\index{tn\_sched\_dis\_save@{tn\_sched\_dis\_save}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_sched\_dis\_save()}{tn\_sched\_dis\_save()}}
{\footnotesize\ttfamily \mbox{\hyperlink{tn__arch__example_8h_a39b8c7b5ae653ec71be6f5a821eec3f6}{\+\_\+\+T\+N\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+I\+N\+L\+I\+NE}} \mbox{\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{T\+N\+\_\+\+U\+Word}} tn\+\_\+sched\+\_\+dis\+\_\+save (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Disable kernel scheduler and return previous scheduler state. 

Actual behavior depends on the platform\+:


\begin{DoxyItemize}
\item On Microchip platforms, only scheduler\textquotesingle{}s interrupt gets disabled. All other interrupts are not affected, independently of their priorities.
\item On Cortex-\/\+M3/\+M4 platforms, we can only disable interrupts based on priority. So, this function disables all interrupts with lowest priority (since scheduler works at lowest interrupt priority).
\item On Cortex-\/\+M0/\+M0+, we have to disable all interrupts.
\end{DoxyItemize}

  \includegraphics{attr_call_task.png}    \includegraphics{attr_call_int.png}   
\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize 

\begin{DoxyReturn}{Returns}
State to be restored later by {\ttfamily \#\mbox{\hyperlink{tn__sys_8h_a4cd5c9113872b2008184c567907653bd}{tn\+\_\+sched\+\_\+restore()}}} 
\end{DoxyReturn}


Definition at line 595 of file tn\+\_\+sys.\+h.

\mbox{\Hypertarget{tn__sys_8h_a4cd5c9113872b2008184c567907653bd}\label{tn__sys_8h_a4cd5c9113872b2008184c567907653bd}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_sched\_restore@{tn\_sched\_restore}}
\index{tn\_sched\_restore@{tn\_sched\_restore}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_sched\_restore()}{tn\_sched\_restore()}}
{\footnotesize\ttfamily \mbox{\hyperlink{tn__arch__example_8h_a39b8c7b5ae653ec71be6f5a821eec3f6}{\+\_\+\+T\+N\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+I\+N\+L\+I\+NE}} void tn\+\_\+sched\+\_\+restore (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{T\+N\+\_\+\+U\+Word}}}]{sched\+\_\+state }\end{DoxyParamCaption})}



Restore state of the kernel scheduler. 

See {\ttfamily \#\mbox{\hyperlink{tn__sys_8h_af1502619506a9c92eb954e45ff0f461b}{tn\+\_\+sched\+\_\+dis\+\_\+save()}}}.

  \includegraphics{attr_call_task.png}    \includegraphics{attr_call_int.png}   
\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize 


\begin{DoxyParams}{Parameters}
{\em sched\+\_\+state} & Value returned from {\ttfamily \#\mbox{\hyperlink{tn__sys_8h_af1502619506a9c92eb954e45ff0f461b}{tn\+\_\+sched\+\_\+dis\+\_\+save()}}} \\
\hline
\end{DoxyParams}


Definition at line 611 of file tn\+\_\+sys.\+h.

\mbox{\Hypertarget{tn__sys_8h_ab4e879240635c8f73e20905b8e499c1c}\label{tn__sys_8h_ab4e879240635c8f73e20905b8e499c1c}} 
\index{tn\_sys.h@{tn\_sys.h}!tn\_callback\_dyn\_tick\_set@{tn\_callback\_dyn\_tick\_set}}
\index{tn\_callback\_dyn\_tick\_set@{tn\_callback\_dyn\_tick\_set}!tn\_sys.h@{tn\_sys.h}}
\doxysubsubsection{\texorpdfstring{tn\_callback\_dyn\_tick\_set()}{tn\_callback\_dyn\_tick\_set()}}
{\footnotesize\ttfamily void tn\+\_\+callback\+\_\+dyn\+\_\+tick\+\_\+set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{tn__timer_8h_a8c64f098ee0fa587a985d149b81bfba9}{T\+N\+\_\+\+C\+B\+Tick\+Schedule}} $\ast$}]{cb\+\_\+tick\+\_\+schedule,  }\item[{\mbox{\hyperlink{tn__timer_8h_a4cc3440639e990e3a3015b95e805374a}{T\+N\+\_\+\+C\+B\+Tick\+Cnt\+Get}} $\ast$}]{cb\+\_\+tick\+\_\+cnt\+\_\+get }\end{DoxyParamCaption})}



{\itshape Available if only \mbox{\hyperlink{tn__cfg__default_8h_aaee875834a86f961318c584095c366fe}{{\ttfamily T\+N\+\_\+\+D\+Y\+N\+A\+M\+I\+C\+\_\+\+T\+I\+CK} }} is {\bfseries{set}}.} 

Set callbacks related to dynamic tick.

\begin{DoxyAttention}{Attention}
This function should be called {\bfseries{before}} {\ttfamily \mbox{\hyperlink{tn__sys_8h_a62ab25d9d8ca01c02d368968f19e49bf}{tn\+\_\+sys\+\_\+start()}}}, otherwise, you\textquotesingle{}ll run into run-\/time error {\ttfamily \+\_\+\+T\+N\+\_\+\+F\+A\+T\+A\+L\+\_\+\+E\+R\+R\+O\+R()}.
\end{DoxyAttention}

\footnotesize {\itshape (refer to \mbox{\hyperlink{legend}{Legend}} for details)}
\normalsize 


\begin{DoxyParams}{Parameters}
{\em cb\+\_\+tick\+\_\+schedule} & Pointer to callback function to schedule next time to call {\ttfamily \mbox{\hyperlink{tn__sys_8h_aa44d297639e0520420890ef2bb7e2c1c}{tn\+\_\+tick\+\_\+int\+\_\+processing()}}}, see {\ttfamily \#T\+N\+\_\+\+C\+B\+Tick\+Schedule} for the prototype. \\
\hline
{\em cb\+\_\+tick\+\_\+cnt\+\_\+get} & Pointer to callback function to get current system tick counter value, see {\ttfamily \#T\+N\+\_\+\+C\+B\+Tick\+Cnt\+Get} for the prototype. \\
\hline
\end{DoxyParams}
