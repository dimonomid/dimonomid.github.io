<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>TNeo: core/tn_dqueue.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-7163754-5', 'auto');
  ga('send', 'pageview');
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TNeo
   &#160;<span id="projectnumber">v1.09</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tn_dqueue.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A data queue is a FIFO that stores pointer (of type <code>void *</code>) in each cell, called (in uITRON style) a data element. A data queue also has an associated wait queue each for sending (<code>wait_send</code> queue) and for receiving (<code>wait_receive</code> queue). A task that sends a data element tries to put the data element into the FIFO. If there is no space left in the FIFO, the task is switched to the waiting state and placed in the data queue's <code>wait_send</code> queue until space appears (another task gets a data element from the data queue).</p>
<p>A task that receives a data element tries to get a data element from the FIFO. If the FIFO is empty (there is no data in the data queue), the task is switched to the waiting state and placed in the data queue's <code>wait_receive</code> queue until data element arrive (another task puts some data element into the data queue). To use a data queue just for the synchronous message passing, set size of the FIFO to 0. The data element to be sent and received can be interpreted as a pointer or an integer and may have value 0 (<code>TN_NULL</code>).</p>
<p>For the useful pattern on how to use queue together with <a class="el" href="tn__fmem_8h.html">fixed memory pool</a>, refer to the example: <code>examples/queue</code>. Be sure to examine the readme there.</p>
<p>TNeo offers a way to wait for a message from multiple queues in just a single call, refer to the section <a class="el" href="tn__eventgrp_8h.html#eventgrp_connect">Connecting an event group to other system objects</a> for details. Related queue services:</p>
<ul>
<li><code><a class="el" href="tn__dqueue_8h.html#ad5d94cf59bebcbf245249896751bd902" title="Connect an event group to the queue.">tn_queue_eventgrp_connect()</a></code></li>
<li><code><a class="el" href="tn__dqueue_8h.html#ac57589cd905f39a6c4a6c8279f073a4a" title="Disconnect a connected event group from the queue.">tn_queue_eventgrp_disconnect()</a></code></li>
</ul>
<p>There is an example project available that demonstrates event group connection technique: <code>examples/queue_eventgrp_conn</code>. Be sure to examine the readme there. </p>

<p class="definition">Definition in file <a class="el" href="tn__dqueue_8h_source.html">tn_dqueue.h</a>.</p>
</div>
<p><a href="tn__dqueue_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTN__DQueue.html">TN_DQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing data queue object.  <a href="structTN__DQueue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTN__DQueueTaskWait.html">TN_DQueueTaskWait</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">DQueue-specific fields related to waiting task, to be included in struct <a class="el" href="structTN__Task.html" title="Task.">TN_Task</a>.  <a href="structTN__DQueueTaskWait.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a01cb0256d0a7a5010bbe8cb14dbd5cbb"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#a01cb0256d0a7a5010bbe8cb14dbd5cbb">tn_queue_create</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void **data_fifo, int items_cnt)</td></tr>
<tr class="memdesc:a01cb0256d0a7a5010bbe8cb14dbd5cbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct data queue.  <a href="tn__dqueue_8h.html#a01cb0256d0a7a5010bbe8cb14dbd5cbb">More...</a><br /></td></tr>
<tr class="separator:a01cb0256d0a7a5010bbe8cb14dbd5cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22fb38f88c9184fee615f47dca12e85a"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#a22fb38f88c9184fee615f47dca12e85a">tn_queue_delete</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque)</td></tr>
<tr class="memdesc:a22fb38f88c9184fee615f47dca12e85a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct data queue.  <a href="tn__dqueue_8h.html#a22fb38f88c9184fee615f47dca12e85a">More...</a><br /></td></tr>
<tr class="separator:a22fb38f88c9184fee615f47dca12e85a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a043dd3133a57489d7d10f53be6939957"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#a043dd3133a57489d7d10f53be6939957">tn_queue_send</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void *p_data, <a class="el" href="tn__common_8h.html#ac885b63d00c063de61cdbd80bf26d8aa">TN_TickCnt</a> timeout)</td></tr>
<tr class="memdesc:a043dd3133a57489d7d10f53be6939957"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the data element specified by the <code>p_data</code> to the data queue specified by the <code>dque</code>.  <a href="tn__dqueue_8h.html#a043dd3133a57489d7d10f53be6939957">More...</a><br /></td></tr>
<tr class="separator:a043dd3133a57489d7d10f53be6939957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60c61c12ed90f4bcc7d13ca4da8562b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#af60c61c12ed90f4bcc7d13ca4da8562b">tn_queue_send_polling</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void *p_data)</td></tr>
<tr class="memdesc:af60c61c12ed90f4bcc7d13ca4da8562b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same as <code><a class="el" href="tn__dqueue_8h.html#a043dd3133a57489d7d10f53be6939957" title="Send the data element specified by the p_data to the data queue specified by the dque.">tn_queue_send()</a></code> with zero timeout.  <a href="tn__dqueue_8h.html#af60c61c12ed90f4bcc7d13ca4da8562b">More...</a><br /></td></tr>
<tr class="separator:af60c61c12ed90f4bcc7d13ca4da8562b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac059f15f07625ca25e4aac5790cce1ea"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#ac059f15f07625ca25e4aac5790cce1ea">tn_queue_isend_polling</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void *p_data)</td></tr>
<tr class="memdesc:ac059f15f07625ca25e4aac5790cce1ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same as <code><a class="el" href="tn__dqueue_8h.html#a043dd3133a57489d7d10f53be6939957" title="Send the data element specified by the p_data to the data queue specified by the dque.">tn_queue_send()</a></code> with zero timeout, but for using in the ISR.  <a href="tn__dqueue_8h.html#ac059f15f07625ca25e4aac5790cce1ea">More...</a><br /></td></tr>
<tr class="separator:ac059f15f07625ca25e4aac5790cce1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab47ed49af7dffc5a71eaabd25422d0e4"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#ab47ed49af7dffc5a71eaabd25422d0e4">tn_queue_receive</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void **pp_data, <a class="el" href="tn__common_8h.html#ac885b63d00c063de61cdbd80bf26d8aa">TN_TickCnt</a> timeout)</td></tr>
<tr class="memdesc:ab47ed49af7dffc5a71eaabd25422d0e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive the data element from the data queue specified by the <code>dque</code> and place it into the address specified by the <code>pp_data</code>.  <a href="tn__dqueue_8h.html#ab47ed49af7dffc5a71eaabd25422d0e4">More...</a><br /></td></tr>
<tr class="separator:ab47ed49af7dffc5a71eaabd25422d0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5759d8b6b487bbae486d766f88088247"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#a5759d8b6b487bbae486d766f88088247">tn_queue_receive_polling</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void **pp_data)</td></tr>
<tr class="memdesc:a5759d8b6b487bbae486d766f88088247"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same as <code><a class="el" href="tn__dqueue_8h.html#ab47ed49af7dffc5a71eaabd25422d0e4" title="Receive the data element from the data queue specified by the dque and place it into the address spec...">tn_queue_receive()</a></code> with zero timeout.  <a href="tn__dqueue_8h.html#a5759d8b6b487bbae486d766f88088247">More...</a><br /></td></tr>
<tr class="separator:a5759d8b6b487bbae486d766f88088247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22bf1175e35229e5358427c20d7f91e9"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#a22bf1175e35229e5358427c20d7f91e9">tn_queue_ireceive_polling</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void **pp_data)</td></tr>
<tr class="memdesc:a22bf1175e35229e5358427c20d7f91e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same as <code><a class="el" href="tn__dqueue_8h.html#ab47ed49af7dffc5a71eaabd25422d0e4" title="Receive the data element from the data queue specified by the dque and place it into the address spec...">tn_queue_receive()</a></code> with zero timeout, but for using in the ISR.  <a href="tn__dqueue_8h.html#a22bf1175e35229e5358427c20d7f91e9">More...</a><br /></td></tr>
<tr class="separator:a22bf1175e35229e5358427c20d7f91e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af541f16598e13f980ddc2482e6af6044"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#af541f16598e13f980ddc2482e6af6044">tn_queue_free_items_cnt_get</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque)</td></tr>
<tr class="memdesc:af541f16598e13f980ddc2482e6af6044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns number of free items in the queue.  <a href="tn__dqueue_8h.html#af541f16598e13f980ddc2482e6af6044">More...</a><br /></td></tr>
<tr class="separator:af541f16598e13f980ddc2482e6af6044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17fd667cab2e4a41d9e89b8cba603cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#aa17fd667cab2e4a41d9e89b8cba603cd">tn_queue_used_items_cnt_get</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque)</td></tr>
<tr class="memdesc:aa17fd667cab2e4a41d9e89b8cba603cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns number of used (non-free) items in the queue.  <a href="tn__dqueue_8h.html#aa17fd667cab2e4a41d9e89b8cba603cd">More...</a><br /></td></tr>
<tr class="separator:aa17fd667cab2e4a41d9e89b8cba603cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d94cf59bebcbf245249896751bd902"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#ad5d94cf59bebcbf245249896751bd902">tn_queue_eventgrp_connect</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, struct <a class="el" href="structTN__EventGrp.html">TN_EventGrp</a> *eventgrp, <a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4">TN_UWord</a> pattern)</td></tr>
<tr class="memdesc:ad5d94cf59bebcbf245249896751bd902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect an event group to the queue.  <a href="tn__dqueue_8h.html#ad5d94cf59bebcbf245249896751bd902">More...</a><br /></td></tr>
<tr class="separator:ad5d94cf59bebcbf245249896751bd902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57589cd905f39a6c4a6c8279f073a4a"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#ac57589cd905f39a6c4a6c8279f073a4a">tn_queue_eventgrp_disconnect</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque)</td></tr>
<tr class="memdesc:ac57589cd905f39a6c4a6c8279f073a4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect a connected event group from the queue.  <a href="tn__dqueue_8h.html#ac57589cd905f39a6c4a6c8279f073a4a">More...</a><br /></td></tr>
<tr class="separator:ac57589cd905f39a6c4a6c8279f073a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a01cb0256d0a7a5010bbe8cb14dbd5cbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01cb0256d0a7a5010bbe8cb14dbd5cbb">&#9670;&nbsp;</a></span>tn_queue_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>data_fifo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>items_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct data queue. </p>
<p><code>id_dque</code> member should not contain <code>#TN_ID_DATAQUEUE</code>, otherwise, <code>#TN_RC_WPARAM</code> is returned.</p>
<div class="image">
<img src="attr_call_task.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>pointer to already allocated struct <a class="el" href="structTN__DQueue.html" title="Structure representing data queue object.">TN_DQueue</a>. </td></tr>
    <tr><td class="paramname">data_fifo</td><td>pointer to already allocated array of <code>void *</code> to store data queue items. Can be <code>#TN_NULL</code>. </td></tr>
    <tr><td class="paramname">items_cnt</td><td>capacity of queue (count of elements in the <code>data_fifo</code> array) Can be 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>#TN_RC_OK</code> if queue was successfully created;</li>
<li>If <code>#TN_CHECK_PARAM</code> is non-zero, additional return code is available: <code>#TN_RC_WPARAM</code>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a22fb38f88c9184fee615f47dca12e85a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22fb38f88c9184fee615f47dca12e85a">&#9670;&nbsp;</a></span>tn_queue_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destruct data queue. </p>
<p>All tasks that wait for writing to or reading from the queue become runnable with <code>#TN_RC_DELETED</code> code returned.</p>
<div class="image">
<img src="attr_call_task.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>pointer to data queue to be deleted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code>#TN_RC_OK</code> if queue was successfully deleted;</li>
<li><code>#TN_RC_WCONTEXT</code> if called from wrong context;</li>
<li>If <code>#TN_CHECK_PARAM</code> is non-zero, additional return codes are available: <code>#TN_RC_WPARAM</code> and <code>#TN_RC_INVALID_OBJ</code>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a043dd3133a57489d7d10f53be6939957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a043dd3133a57489d7d10f53be6939957">&#9670;&nbsp;</a></span>tn_queue_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tn__common_8h.html#ac885b63d00c063de61cdbd80bf26d8aa">TN_TickCnt</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the data element specified by the <code>p_data</code> to the data queue specified by the <code>dque</code>. </p>
<p>If there are tasks in the data queue's <code>wait_receive</code> list already, the function releases the task from the head of the <code>wait_receive</code> list, makes this task runnable and transfers the parameter <code>p_data</code> to task's function, that caused it to wait.</p>
<p>If there are no tasks in the data queue's <code>wait_receive</code> list, parameter <code>p_data</code> is placed to the tail of data FIFO. If the data FIFO is full, behavior depends on the <code>timeout</code> value: refer to <code>#TN_TickCnt</code>.</p>
<div class="image">
<img src="attr_call_task.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt=""/>
</div>
  <div class="image">
<img src="attr_timeout.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>pointer to data queue to send data to </td></tr>
    <tr><td class="paramname">p_data</td><td>value to send </td></tr>
    <tr><td class="paramname">timeout</td><td>refer to <code>#TN_TickCnt</code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><br  />
<ul>
<li><code>#TN_RC_OK</code> if data was successfully sent;</li>
<li><code>#TN_RC_WCONTEXT</code> if called from wrong context;</li>
<li>Other possible return codes depend on <code>timeout</code> value, refer to <code>#TN_TickCnt</code></li>
<li>If <code>#TN_CHECK_PARAM</code> is non-zero, additional return codes are available: <code>#TN_RC_WPARAM</code> and <code>#TN_RC_INVALID_OBJ</code>.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><code>#<a class="el" href="tn__common_8h.html#ac885b63d00c063de61cdbd80bf26d8aa" title="Type for system tick count, it is used by the kernel to represent absolute tick count value as well a...">TN_TickCnt</a></code> </dd></dl>

</div>
</div>
<a id="af60c61c12ed90f4bcc7d13ca4da8562b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af60c61c12ed90f4bcc7d13ca4da8562b">&#9670;&nbsp;</a></span>tn_queue_send_polling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_send_polling </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same as <code><a class="el" href="tn__dqueue_8h.html#a043dd3133a57489d7d10f53be6939957" title="Send the data element specified by the p_data to the data queue specified by the dque.">tn_queue_send()</a></code> with zero timeout. </p>
<div class="image">
<img src="attr_call_task.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a id="ac059f15f07625ca25e4aac5790cce1ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac059f15f07625ca25e4aac5790cce1ea">&#9670;&nbsp;</a></span>tn_queue_isend_polling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_isend_polling </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same as <code><a class="el" href="tn__dqueue_8h.html#a043dd3133a57489d7d10f53be6939957" title="Send the data element specified by the p_data to the data queue specified by the dque.">tn_queue_send()</a></code> with zero timeout, but for using in the ISR. </p>
<div class="image">
<img src="attr_call_int.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a id="ab47ed49af7dffc5a71eaabd25422d0e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab47ed49af7dffc5a71eaabd25422d0e4">&#9670;&nbsp;</a></span>tn_queue_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_receive </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pp_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tn__common_8h.html#ac885b63d00c063de61cdbd80bf26d8aa">TN_TickCnt</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive the data element from the data queue specified by the <code>dque</code> and place it into the address specified by the <code>pp_data</code>. </p>
<p>If the FIFO already has data, function removes an entry from the end of the data queue FIFO and returns it into the <code>pp_data</code> function parameter.</p>
<p>If there are task(s) in the data queue's <code>wait_send</code> list, first one gets removed from the head of <code>wait_send</code> list, becomes runnable and puts the data entry, stored in this task, to the tail of data FIFO. If there are no entries in the data FIFO and there are no tasks in the wait_send list, behavior depends on the <code>timeout</code> value: refer to <code>#TN_TickCnt</code>.</p>
<div class="image">
<img src="attr_call_task.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt=""/>
</div>
  <div class="image">
<img src="attr_timeout.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>pointer to data queue to receive data from </td></tr>
    <tr><td class="paramname">pp_data</td><td>pointer to location to store the value </td></tr>
    <tr><td class="paramname">timeout</td><td>refer to <code>#TN_TickCnt</code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><br  />
<ul>
<li><code>#TN_RC_OK</code> if data was successfully received;</li>
<li><code>#TN_RC_WCONTEXT</code> if called from wrong context;</li>
<li>Other possible return codes depend on <code>timeout</code> value, refer to <code>#TN_TickCnt</code></li>
<li>If <code>#TN_CHECK_PARAM</code> is non-zero, additional return codes are available: <code>#TN_RC_WPARAM</code> and <code>#TN_RC_INVALID_OBJ</code>.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><code>#<a class="el" href="tn__common_8h.html#ac885b63d00c063de61cdbd80bf26d8aa" title="Type for system tick count, it is used by the kernel to represent absolute tick count value as well a...">TN_TickCnt</a></code> </dd></dl>

</div>
</div>
<a id="a5759d8b6b487bbae486d766f88088247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5759d8b6b487bbae486d766f88088247">&#9670;&nbsp;</a></span>tn_queue_receive_polling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_receive_polling </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pp_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same as <code><a class="el" href="tn__dqueue_8h.html#ab47ed49af7dffc5a71eaabd25422d0e4" title="Receive the data element from the data queue specified by the dque and place it into the address spec...">tn_queue_receive()</a></code> with zero timeout. </p>
<div class="image">
<img src="attr_call_task.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a id="a22bf1175e35229e5358427c20d7f91e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22bf1175e35229e5358427c20d7f91e9">&#9670;&nbsp;</a></span>tn_queue_ireceive_polling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_ireceive_polling </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pp_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same as <code><a class="el" href="tn__dqueue_8h.html#ab47ed49af7dffc5a71eaabd25422d0e4" title="Receive the data element from the data queue specified by the dque and place it into the address spec...">tn_queue_receive()</a></code> with zero timeout, but for using in the ISR. </p>
<div class="image">
<img src="attr_call_int.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a id="af541f16598e13f980ddc2482e6af6044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af541f16598e13f980ddc2482e6af6044">&#9670;&nbsp;</a></span>tn_queue_free_items_cnt_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tn_queue_free_items_cnt_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns number of free items in the queue. </p>
<div class="image">
<img src="attr_call_task.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>Pointer to queue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of free items in the queue, or -1 if wrong params were given (the check is performed if only <code>#TN_CHECK_PARAM</code> is non-zero) </dd></dl>

</div>
</div>
<a id="aa17fd667cab2e4a41d9e89b8cba603cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa17fd667cab2e4a41d9e89b8cba603cd">&#9670;&nbsp;</a></span>tn_queue_used_items_cnt_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tn_queue_used_items_cnt_get </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns number of used (non-free) items in the queue. </p>
<div class="image">
<img src="attr_call_task.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>Pointer to queue.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of used (non-free) items in the queue, or -1 if wrong params were given (the check is performed if only <code>#TN_CHECK_PARAM</code> is non-zero) </dd></dl>

</div>
</div>
<a id="ad5d94cf59bebcbf245249896751bd902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5d94cf59bebcbf245249896751bd902">&#9670;&nbsp;</a></span>tn_queue_eventgrp_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_eventgrp_connect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structTN__EventGrp.html">TN_EventGrp</a> *&#160;</td>
          <td class="paramname"><em>eventgrp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4">TN_UWord</a>&#160;</td>
          <td class="paramname"><em>pattern</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect an event group to the queue. </p>
<p>Refer to the section <a class="el" href="tn__eventgrp_8h.html#eventgrp_connect">Connecting an event group to other system objects</a> for details.</p>
<p>Only one event group can be connected to the queue at a time. If you connect event group while another event group is already connected, the old link is discarded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>queue to which event group should be connected </td></tr>
    <tr><td class="paramname">eventgrp</td><td>event groupt to connect </td></tr>
    <tr><td class="paramname">pattern</td><td>flags pattern that should be managed by the queue automatically</td></tr>
  </table>
  </dd>
</dl>
<div class="image">
<img src="attr_call_task.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a id="ac57589cd905f39a6c4a6c8279f073a4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac57589cd905f39a6c4a6c8279f073a4a">&#9670;&nbsp;</a></span>tn_queue_eventgrp_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_eventgrp_disconnect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect a connected event group from the queue. </p>
<p>Refer to the section <a class="el" href="tn__eventgrp_8h.html#eventgrp_connect">Connecting an event group to other system objects</a> for details.</p>
<p>If there is no event group connected, nothing is changed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>queue from which event group should be disconnected</td></tr>
  </table>
  </dd>
</dl>
<div class="image">
<img src="attr_call_task.png" alt=""/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt=""/>
</div>
<p>  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Dec 28 2024 20:20:49 for TNeo by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
