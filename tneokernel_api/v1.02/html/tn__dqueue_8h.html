<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>TNeoKernel: core/tn_dqueue.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-7163754-5', 'auto');
  ga('send', 'pageview');
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TNeoKernel
   &#160;<span id="projectnumber">v1.02</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4270bfced15e0e73154b13468c7c9ad9.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tn_dqueue.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A data queue is a FIFO that stores pointer (of type <code>void *</code>) in each cell, called (in uITRON style) a data element. </p>
<p>A data queue also has an associated wait queue each for sending (<code>wait_send</code> queue) and for receiving (<code>wait_receive</code> queue). A task that sends a data element tries to put the data element into the FIFO. If there is no space left in the FIFO, the task is switched to the waiting state and placed in the data queue's <code>wait_send</code> queue until space appears (another task gets a data element from the data queue). A task that receives a data element tries to get a data element from the FIFO. If the FIFO is empty (there is no data in the data queue), the task is switched to the waiting state and placed in the data queue's <code>wait_receive</code> queue until data element arrive (another task puts some data element into the data queue). To use a data queue just for the synchronous message passing, set size of the FIFO to 0. The data element to be sent and received can be interpreted as a pointer or an integer and may have value 0 (<code>NULL</code>). </p>

<p>Definition in file <a class="el" href="tn__dqueue_8h_source.html">tn_dqueue.h</a>.</p>
</div>
<p><a href="tn__dqueue_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTN__DQueue.html">TN_DQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing data queue object.  <a href="structTN__DQueue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTN__DQueueTaskWait.html">TN_DQueueTaskWait</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">DQueue-specific fields related to waiting task, to be included in struct <a class="el" href="structTN__Task.html" title="Task. ">TN_Task</a>.  <a href="structTN__DQueueTaskWait.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a01cb0256d0a7a5010bbe8cb14dbd5cbb"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#a01cb0256d0a7a5010bbe8cb14dbd5cbb">tn_queue_create</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void **data_fifo, int items_cnt)</td></tr>
<tr class="memdesc:a01cb0256d0a7a5010bbe8cb14dbd5cbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct data queue.  <a href="#a01cb0256d0a7a5010bbe8cb14dbd5cbb">More...</a><br /></td></tr>
<tr class="separator:a01cb0256d0a7a5010bbe8cb14dbd5cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22fb38f88c9184fee615f47dca12e85a"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#a22fb38f88c9184fee615f47dca12e85a">tn_queue_delete</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque)</td></tr>
<tr class="memdesc:a22fb38f88c9184fee615f47dca12e85a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct data queue.  <a href="#a22fb38f88c9184fee615f47dca12e85a">More...</a><br /></td></tr>
<tr class="separator:a22fb38f88c9184fee615f47dca12e85a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa55c81d4b965ca09c85378481796fe4b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#aa55c81d4b965ca09c85378481796fe4b">tn_queue_send</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void *p_data, <a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe">TN_Timeout</a> timeout)</td></tr>
<tr class="memdesc:aa55c81d4b965ca09c85378481796fe4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the data element specified by the <code>p_data</code> to the data queue specified by the <code>dque</code>.  <a href="#aa55c81d4b965ca09c85378481796fe4b">More...</a><br /></td></tr>
<tr class="separator:aa55c81d4b965ca09c85378481796fe4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60c61c12ed90f4bcc7d13ca4da8562b"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#af60c61c12ed90f4bcc7d13ca4da8562b">tn_queue_send_polling</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void *p_data)</td></tr>
<tr class="memdesc:af60c61c12ed90f4bcc7d13ca4da8562b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same as <code><a class="el" href="tn__dqueue_8h.html#aa55c81d4b965ca09c85378481796fe4b" title="Send the data element specified by the p_data to the data queue specified by the dque. ">tn_queue_send()</a></code> with zero timeout.  <a href="#af60c61c12ed90f4bcc7d13ca4da8562b">More...</a><br /></td></tr>
<tr class="separator:af60c61c12ed90f4bcc7d13ca4da8562b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac059f15f07625ca25e4aac5790cce1ea"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#ac059f15f07625ca25e4aac5790cce1ea">tn_queue_isend_polling</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void *p_data)</td></tr>
<tr class="memdesc:ac059f15f07625ca25e4aac5790cce1ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same as <code><a class="el" href="tn__dqueue_8h.html#aa55c81d4b965ca09c85378481796fe4b" title="Send the data element specified by the p_data to the data queue specified by the dque. ">tn_queue_send()</a></code> with zero timeout, but for using in the ISR.  <a href="#ac059f15f07625ca25e4aac5790cce1ea">More...</a><br /></td></tr>
<tr class="separator:ac059f15f07625ca25e4aac5790cce1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589bfb4d3966bc7405dcf959d7114544"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#a589bfb4d3966bc7405dcf959d7114544">tn_queue_receive</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void **pp_data, <a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe">TN_Timeout</a> timeout)</td></tr>
<tr class="memdesc:a589bfb4d3966bc7405dcf959d7114544"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive the data element from the data queue specified by the <code>dque</code> and place it into the address specified by the <code>pp_data</code>.  <a href="#a589bfb4d3966bc7405dcf959d7114544">More...</a><br /></td></tr>
<tr class="separator:a589bfb4d3966bc7405dcf959d7114544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5759d8b6b487bbae486d766f88088247"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#a5759d8b6b487bbae486d766f88088247">tn_queue_receive_polling</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void **pp_data)</td></tr>
<tr class="memdesc:a5759d8b6b487bbae486d766f88088247"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same as <code><a class="el" href="tn__dqueue_8h.html#a589bfb4d3966bc7405dcf959d7114544" title="Receive the data element from the data queue specified by the dque and place it into the address spec...">tn_queue_receive()</a></code> with zero timeout.  <a href="#a5759d8b6b487bbae486d766f88088247">More...</a><br /></td></tr>
<tr class="separator:a5759d8b6b487bbae486d766f88088247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22bf1175e35229e5358427c20d7f91e9"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__dqueue_8h.html#a22bf1175e35229e5358427c20d7f91e9">tn_queue_ireceive_polling</a> (struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *dque, void **pp_data)</td></tr>
<tr class="memdesc:a22bf1175e35229e5358427c20d7f91e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same as <code><a class="el" href="tn__dqueue_8h.html#a589bfb4d3966bc7405dcf959d7114544" title="Receive the data element from the data queue specified by the dque and place it into the address spec...">tn_queue_receive()</a></code> with zero timeout, but for using in the ISR.  <a href="#a22bf1175e35229e5358427c20d7f91e9">More...</a><br /></td></tr>
<tr class="separator:a22bf1175e35229e5358427c20d7f91e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a01cb0256d0a7a5010bbe8cb14dbd5cbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_create </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>data_fifo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>items_cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct data queue. </p>
<p><code>id_dque</code> member should not contain <code><a class="el" href="tn__common_8h.html#ae779dd1f6735f6e139fb70acd004d976aaedaabfef8c2a7312d6b8ac2bbeb07a4" title="id for data queues ">TN_ID_DATAQUEUE</a></code>, otherwise, <code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68" title="This code is returned by most of the kernel functions when wrong params were given to function...">TN_RC_WPARAM</a></code> is returned.</p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>pointer to already allocated struct <a class="el" href="structTN__DQueue.html" title="Structure representing data queue object. ">TN_DQueue</a>. </td></tr>
    <tr><td class="paramname">data_fifo</td><td>pointer to already allocated array of <code>void *</code> to store data queue items. Can be NULL. </td></tr>
    <tr><td class="paramname">items_cnt</td><td>capacity of queue (count of elements in the <code>data_fifo</code> array) Can be 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876afb291924237186f5765865256c75e639" title="Successful operation. ">TN_RC_OK</a></code> if queue was successfully created;</li>
<li>If <code><a class="el" href="tn__cfg__default_8h.html#a1f197294df3276fec431930545acafd5" title="Enables additional param checking for most of the system functions. ">TN_CHECK_PARAM</a></code> is non-zero, additional return code is available: <code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68" title="This code is returned by most of the kernel functions when wrong params were given to function...">TN_RC_WPARAM</a></code>. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a22fb38f88c9184fee615f47dca12e85a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_delete </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destruct data queue. </p>
<p>All tasks that wait for writing to or reading from the queue become runnable with <code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a3252967d2fdefcfbd4eb720ed4663d84" title="Object for whose event task was waiting is deleted. ">TN_RC_DELETED</a></code> code returned. TN_RCode, struct <a class="el" href="structTN__Task.html" title="Task. ">TN_Task</a>.</p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt="attr_call_ct_sw.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>pointer to data queue to be deleted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876afb291924237186f5765865256c75e639" title="Successful operation. ">TN_RC_OK</a></code> if queue was successfully deleted;</li>
<li><code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a886368391507ae426bfdedc38284db9d" title="Wrong context error: returned if function is called from non-acceptable context. ">TN_RC_WCONTEXT</a></code> if called from wrong context;</li>
<li>If <code><a class="el" href="tn__cfg__default_8h.html#a1f197294df3276fec431930545acafd5" title="Enables additional param checking for most of the system functions. ">TN_CHECK_PARAM</a></code> is non-zero, additional return codes are available: <code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68" title="This code is returned by most of the kernel functions when wrong params were given to function...">TN_RC_WPARAM</a></code> and <code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a2a2df8fecee990d279889924926bf101" title="Returned when user tries to perform some operation on invalid object (mutex, semaphore, etc). ">TN_RC_INVALID_OBJ</a></code>. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="aa55c81d4b965ca09c85378481796fe4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe">TN_Timeout</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the data element specified by the <code>p_data</code> to the data queue specified by the <code>dque</code>. </p>
<p>If there are tasks in the data queue's <code>wait_receive</code> list already, the function releases the task from the head of the <code>wait_receive</code> list, makes this task runnable and transfers the parameter <code>p_data</code> to task's function, that caused it to wait.</p>
<p>If there are no tasks in the data queue's <code>wait_receive</code> list, parameter <code>p_data</code> is placed to the tail of data FIFO. If the data FIFO is full, behavior depends on the <code>timeout</code> value: refer to <code><a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe" title="The value representing maximum number of system ticks to wait. ">TN_Timeout</a></code>.</p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt="attr_call_ct_sw.png"/>
</div>
  <div class="image">
<img src="attr_timeout.png" alt="attr_timeout.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>pointer to data queue to send data to </td></tr>
    <tr><td class="paramname">p_data</td><td>value to send </td></tr>
    <tr><td class="paramname">timeout</td><td>refer to <code><a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe" title="The value representing maximum number of system ticks to wait. ">TN_Timeout</a></code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876afb291924237186f5765865256c75e639" title="Successful operation. ">TN_RC_OK</a></code> if data was successfully sent;</li>
<li><code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a886368391507ae426bfdedc38284db9d" title="Wrong context error: returned if function is called from non-acceptable context. ">TN_RC_WCONTEXT</a></code> if called from wrong context;</li>
<li>Other possible return codes depend on <code>timeout</code> value, refer to <code><a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe" title="The value representing maximum number of system ticks to wait. ">TN_Timeout</a></code></li>
<li>If <code><a class="el" href="tn__cfg__default_8h.html#a1f197294df3276fec431930545acafd5" title="Enables additional param checking for most of the system functions. ">TN_CHECK_PARAM</a></code> is non-zero, additional return codes are available: <code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68" title="This code is returned by most of the kernel functions when wrong params were given to function...">TN_RC_WPARAM</a></code> and <code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a2a2df8fecee990d279889924926bf101" title="Returned when user tries to perform some operation on invalid object (mutex, semaphore, etc). ">TN_RC_INVALID_OBJ</a></code>.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe" title="The value representing maximum number of system ticks to wait. ">TN_Timeout</a></code> </dd></dl>

</div>
</div>
<a class="anchor" id="af60c61c12ed90f4bcc7d13ca4da8562b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_send_polling </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same as <code><a class="el" href="tn__dqueue_8h.html#aa55c81d4b965ca09c85378481796fe4b" title="Send the data element specified by the p_data to the data queue specified by the dque. ">tn_queue_send()</a></code> with zero timeout. </p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt="attr_call_ct_sw.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a class="anchor" id="ac059f15f07625ca25e4aac5790cce1ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_isend_polling </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same as <code><a class="el" href="tn__dqueue_8h.html#aa55c81d4b965ca09c85378481796fe4b" title="Send the data element specified by the p_data to the data queue specified by the dque. ">tn_queue_send()</a></code> with zero timeout, but for using in the ISR. </p>
<div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt="attr_call_ct_sw.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a class="anchor" id="a589bfb4d3966bc7405dcf959d7114544"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_receive </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pp_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe">TN_Timeout</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive the data element from the data queue specified by the <code>dque</code> and place it into the address specified by the <code>pp_data</code>. </p>
<p>If the FIFO already has data, function removes an entry from the end of the data queue FIFO and returns it into the <code>pp_data</code> function parameter.</p>
<p>If there are task(s) in the data queue's <code>wait_send</code> list, first one gets removed from the head of <code>wait_send</code> list, becomes runnable and puts the data entry, stored in this task, to the tail of data FIFO. If there are no entries in the data FIFO and there are no tasks in the wait_send list, behavior depends on the <code>timeout</code> value: refer to <code><a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe" title="The value representing maximum number of system ticks to wait. ">TN_Timeout</a></code>.</p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt="attr_call_ct_sw.png"/>
</div>
  <div class="image">
<img src="attr_timeout.png" alt="attr_timeout.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dque</td><td>pointer to data queue to receive data from </td></tr>
    <tr><td class="paramname">pp_data</td><td>pointer to location to store the value </td></tr>
    <tr><td class="paramname">timeout</td><td>refer to <code><a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe" title="The value representing maximum number of system ticks to wait. ">TN_Timeout</a></code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876afb291924237186f5765865256c75e639" title="Successful operation. ">TN_RC_OK</a></code> if data was successfully received;</li>
<li><code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a886368391507ae426bfdedc38284db9d" title="Wrong context error: returned if function is called from non-acceptable context. ">TN_RC_WCONTEXT</a></code> if called from wrong context;</li>
<li>Other possible return codes depend on <code>timeout</code> value, refer to <code><a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe" title="The value representing maximum number of system ticks to wait. ">TN_Timeout</a></code></li>
<li>If <code><a class="el" href="tn__cfg__default_8h.html#a1f197294df3276fec431930545acafd5" title="Enables additional param checking for most of the system functions. ">TN_CHECK_PARAM</a></code> is non-zero, additional return codes are available: <code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68" title="This code is returned by most of the kernel functions when wrong params were given to function...">TN_RC_WPARAM</a></code> and <code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a2a2df8fecee990d279889924926bf101" title="Returned when user tries to perform some operation on invalid object (mutex, semaphore, etc). ">TN_RC_INVALID_OBJ</a></code>.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="tn__common_8h.html#a34c07c1fa20ae71d17817d28a41957fe" title="The value representing maximum number of system ticks to wait. ">TN_Timeout</a></code> </dd></dl>

</div>
</div>
<a class="anchor" id="a5759d8b6b487bbae486d766f88088247"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_receive_polling </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pp_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same as <code><a class="el" href="tn__dqueue_8h.html#a589bfb4d3966bc7405dcf959d7114544" title="Receive the data element from the data queue specified by the dque and place it into the address spec...">tn_queue_receive()</a></code> with zero timeout. </p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt="attr_call_ct_sw.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a class="anchor" id="a22bf1175e35229e5358427c20d7f91e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_queue_ireceive_polling </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structTN__DQueue.html">TN_DQueue</a> *&#160;</td>
          <td class="paramname"><em>dque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pp_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same as <code><a class="el" href="tn__dqueue_8h.html#a589bfb4d3966bc7405dcf959d7114544" title="Receive the data element from the data queue specified by the dque and place it into the address spec...">tn_queue_receive()</a></code> with zero timeout, but for using in the ISR. </p>
<div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt="attr_call_ct_sw.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 14 2014 18:35:55 for TNeoKernel by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
