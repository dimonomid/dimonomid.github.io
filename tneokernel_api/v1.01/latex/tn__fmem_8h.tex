\hypertarget{tn__fmem_8h}{\section{core/tn\+\_\+fmem.h File Reference}
\label{tn__fmem_8h}\index{core/tn\+\_\+fmem.\+h@{core/tn\+\_\+fmem.\+h}}
}


\subsection{Detailed Description}
Fixed memory blocks pool. 

A fixed-\/sized memory blocks pool is used for managing fixed-\/sized memory blocks dynamically. A pool has a memory area where fixed-\/sized memory blocks are allocated and the wait queue for acquiring a memory block. If there are no free memory blocks, a task trying to acquire a memory block will be placed into the wait queue until a free memory block arrives (another task returns it to the memory pool). 

Definition in file \hyperlink{tn__fmem_8h_source}{tn\+\_\+fmem.\+h}.

\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structTN__FMem}{T\+N\+\_\+\+F\+Mem}
\begin{DoxyCompactList}\small\item\em Fixed memory blocks pool. \end{DoxyCompactList}\item 
struct \hyperlink{structTN__FMemTaskWait}{T\+N\+\_\+\+F\+Mem\+Task\+Wait}
\begin{DoxyCompactList}\small\item\em F\+Mem-\/specific fields related to waiting task, to be included in struct \hyperlink{structTN__Task}{T\+N\+\_\+\+Task}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{tn__fmem_8h_ab45e9c2ad4a64345214f9a912bf76fc3}{T\+N\+\_\+\+F\+M\+E\+M\+\_\+\+B\+U\+F\+\_\+\+D\+E\+F}(name, item\+\_\+type, size)
\begin{DoxyCompactList}\small\item\em Convenience macro for the definition of buffer for memory pool. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876}{T\+N\+\_\+\+R\+Code} \hyperlink{tn__fmem_8h_a56d47d4a1b6453d959336448a0ce96ac}{tn\+\_\+fmem\+\_\+create} (struct \hyperlink{structTN__FMem}{T\+N\+\_\+\+F\+Mem} $\ast$fmem, void $\ast$start\+\_\+addr, unsigned int block\+\_\+size, int blocks\+\_\+cnt)
\begin{DoxyCompactList}\small\item\em Construct fixed memory blocks pool. \end{DoxyCompactList}\item 
enum \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876}{T\+N\+\_\+\+R\+Code} \hyperlink{tn__fmem_8h_ac9b8243577c7a14ce442879e9e68d98c}{tn\+\_\+fmem\+\_\+delete} (struct \hyperlink{structTN__FMem}{T\+N\+\_\+\+F\+Mem} $\ast$fmem)
\begin{DoxyCompactList}\small\item\em Destruct fixed memory blocks pool. \end{DoxyCompactList}\item 
enum \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876}{T\+N\+\_\+\+R\+Code} \hyperlink{tn__fmem_8h_afb45a1f427b531b22f1f4b013f415ae0}{tn\+\_\+fmem\+\_\+get} (struct \hyperlink{structTN__FMem}{T\+N\+\_\+\+F\+Mem} $\ast$fmem, void $\ast$$\ast$p\+\_\+data, \hyperlink{tn__common_8h_a34c07c1fa20ae71d17817d28a41957fe}{T\+N\+\_\+\+Timeout} timeout)
\begin{DoxyCompactList}\small\item\em Get memory block from the pool. \end{DoxyCompactList}\item 
enum \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876}{T\+N\+\_\+\+R\+Code} \hyperlink{tn__fmem_8h_affea42ad41734fadfe8170b4234ca567}{tn\+\_\+fmem\+\_\+get\+\_\+polling} (struct \hyperlink{structTN__FMem}{T\+N\+\_\+\+F\+Mem} $\ast$fmem, void $\ast$$\ast$p\+\_\+data)
\begin{DoxyCompactList}\small\item\em The same as {\ttfamily \hyperlink{tn__fmem_8h_afb45a1f427b531b22f1f4b013f415ae0}{tn\+\_\+fmem\+\_\+get()}} with zero timeout. \end{DoxyCompactList}\item 
enum \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876}{T\+N\+\_\+\+R\+Code} \hyperlink{tn__fmem_8h_a24ef67ab8567f6dd4d08946711f756df}{tn\+\_\+fmem\+\_\+iget\+\_\+polling} (struct \hyperlink{structTN__FMem}{T\+N\+\_\+\+F\+Mem} $\ast$fmem, void $\ast$$\ast$p\+\_\+data)
\begin{DoxyCompactList}\small\item\em The same as {\ttfamily \hyperlink{tn__fmem_8h_afb45a1f427b531b22f1f4b013f415ae0}{tn\+\_\+fmem\+\_\+get()}} with zero timeout, but for using in the I\+S\+R. \end{DoxyCompactList}\item 
enum \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876}{T\+N\+\_\+\+R\+Code} \hyperlink{tn__fmem_8h_adc5dfb589f4ef2347021c727cd4cc030}{tn\+\_\+fmem\+\_\+release} (struct \hyperlink{structTN__FMem}{T\+N\+\_\+\+F\+Mem} $\ast$fmem, void $\ast$p\+\_\+data)
\begin{DoxyCompactList}\small\item\em Release memory block back to the pool. \end{DoxyCompactList}\item 
enum \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876}{T\+N\+\_\+\+R\+Code} \hyperlink{tn__fmem_8h_a061edcb30a486dba289aa136af7b68f6}{tn\+\_\+fmem\+\_\+irelease} (struct \hyperlink{structTN__FMem}{T\+N\+\_\+\+F\+Mem} $\ast$fmem, void $\ast$p\+\_\+data)
\begin{DoxyCompactList}\small\item\em The same as {\ttfamily \hyperlink{tn__fmem_8h_afb45a1f427b531b22f1f4b013f415ae0}{tn\+\_\+fmem\+\_\+get()}}, but for using in the I\+S\+R. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{tn__fmem_8h_ab45e9c2ad4a64345214f9a912bf76fc3}{\index{tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}!T\+N\+\_\+\+F\+M\+E\+M\+\_\+\+B\+U\+F\+\_\+\+D\+E\+F@{T\+N\+\_\+\+F\+M\+E\+M\+\_\+\+B\+U\+F\+\_\+\+D\+E\+F}}
\index{T\+N\+\_\+\+F\+M\+E\+M\+\_\+\+B\+U\+F\+\_\+\+D\+E\+F@{T\+N\+\_\+\+F\+M\+E\+M\+\_\+\+B\+U\+F\+\_\+\+D\+E\+F}!tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}}
\subsubsection[{T\+N\+\_\+\+F\+M\+E\+M\+\_\+\+B\+U\+F\+\_\+\+D\+E\+F}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+N\+\_\+\+F\+M\+E\+M\+\_\+\+B\+U\+F\+\_\+\+D\+E\+F(
\begin{DoxyParamCaption}
\item[{}]{name, }
\item[{}]{item\+\_\+type, }
\item[{}]{size}
\end{DoxyParamCaption}
)}}\label{tn__fmem_8h_ab45e9c2ad4a64345214f9a912bf76fc3}
{\bfseries Value\+:}
\begin{DoxyCode}
\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{TN\_UWord} name[                                                 \(\backslash\)
        (size)                                                    \(\backslash\)
      * (\hyperlink{tn__common_8h_a3f48380e8a624edc643319a81192d88e}{TN\_MAKE\_ALIG\_SIZE}(\textcolor{keyword}{sizeof}(item\_type)) / \textcolor{keyword}{sizeof}(\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{TN\_UWord})) \(\backslash\)
      ]
\end{DoxyCode}


Convenience macro for the definition of buffer for memory pool. 

See {\ttfamily \hyperlink{tn__fmem_8h_a56d47d4a1b6453d959336448a0ce96ac}{tn\+\_\+fmem\+\_\+create()}} for usage example.


\begin{DoxyParams}{Parameters}
{\em name} & C variable name of the buffer array (this name should be given to the {\ttfamily \hyperlink{tn__fmem_8h_a56d47d4a1b6453d959336448a0ce96ac}{tn\+\_\+fmem\+\_\+create()}} function as the {\ttfamily start\+\_\+addr} argument) \\
\hline
{\em item\+\_\+type} & Type of item in the memory pool, like {\ttfamily struct My\+Memory\+Item}. \\
\hline
{\em size} & Number of items in the memory pool. \\
\hline
\end{DoxyParams}


Definition at line 135 of file tn\+\_\+fmem.\+h.



\subsection{Function Documentation}
\hypertarget{tn__fmem_8h_a56d47d4a1b6453d959336448a0ce96ac}{\index{tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}!tn\+\_\+fmem\+\_\+create@{tn\+\_\+fmem\+\_\+create}}
\index{tn\+\_\+fmem\+\_\+create@{tn\+\_\+fmem\+\_\+create}!tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}}
\subsubsection[{tn\+\_\+fmem\+\_\+create}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf T\+N\+\_\+\+R\+Code} tn\+\_\+fmem\+\_\+create (
\begin{DoxyParamCaption}
\item[{struct {\bf T\+N\+\_\+\+F\+Mem} $\ast$}]{fmem, }
\item[{void $\ast$}]{start\+\_\+addr, }
\item[{unsigned int}]{block\+\_\+size, }
\item[{int}]{blocks\+\_\+cnt}
\end{DoxyParamCaption}
)}}\label{tn__fmem_8h_a56d47d4a1b6453d959336448a0ce96ac}


Construct fixed memory blocks pool. 

{\ttfamily id\+\_\+fmp} field should not contain {\ttfamily \hyperlink{tn__common_8h_ae779dd1f6735f6e139fb70acd004d976a4a74d3b34e5ced2c4080e8da18115892}{T\+N\+\_\+\+I\+D\+\_\+\+F\+S\+M\+E\+M\+O\+R\+Y\+P\+O\+O\+L}}, otherwise, {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68}{T\+N\+\_\+\+R\+C\+\_\+\+W\+P\+A\+R\+A\+M}} is returned.

Note that {\ttfamily start\+\_\+addr} and {\ttfamily block\+\_\+size} should be a multiple of {\ttfamily sizeof(\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{T\+N\+\_\+\+U\+Word})}.

For the definition of buffer, convenience macro {\ttfamily \hyperlink{tn__fmem_8h_ab45e9c2ad4a64345214f9a912bf76fc3}{T\+N\+\_\+\+F\+M\+E\+M\+\_\+\+B\+U\+F\+\_\+\+D\+E\+F()}} was invented.

Typical definition looks as follows\+:


\begin{DoxyCode}
\textcolor{comment}{//-- number of blocks in the pool}
\textcolor{preprocessor}{#define MY\_MEMORY\_BUF\_SIZE    8}

\textcolor{comment}{//-- type for memory block}
\textcolor{keyword}{struct }MyMemoryItem \{
   \textcolor{comment}{// ... arbitrary fields ...}
\};

\textcolor{comment}{//-- define buffer for memory pool}
\hyperlink{tn__fmem_8h_ab45e9c2ad4a64345214f9a912bf76fc3}{TN\_FMEM\_BUF\_DEF}(my\_fmem\_buf, \textcolor{keyword}{struct} MyMemoryItem, MY\_MEMORY\_BUF\_SIZE);

\textcolor{comment}{//-- define memory pool structure}
\textcolor{keyword}{struct }\hyperlink{structTN__FMem}{TN\_FMem} my\_fmem;
\end{DoxyCode}


And then, construct your {\ttfamily my\+\_\+fmem} as follows\+:


\begin{DoxyCode}
\textcolor{keyword}{enum} \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876}{TN\_RCode} rc;
rc = \hyperlink{tn__fmem_8h_a56d47d4a1b6453d959336448a0ce96ac}{tn\_fmem\_create}( &my\_fmem,
                     my\_fmem\_buf,
                     \hyperlink{tn__common_8h_a3f48380e8a624edc643319a81192d88e}{TN\_MAKE\_ALIG\_SIZE}(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} MyMemoryItem)),
                     MY\_MEMORY\_BUF\_SIZE );
\textcolor{keywordflow}{if} (rc != \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876afb291924237186f5765865256c75e639}{TN\_RC\_OK})\{
   \textcolor{comment}{//-- handle error}
\}
\end{DoxyCode}


If given {\ttfamily start\+\_\+addr} and/or {\ttfamily block\+\_\+size} aren't aligned properly, {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68}{T\+N\+\_\+\+R\+C\+\_\+\+W\+P\+A\+R\+A\+M}} is returned.

  \includegraphics{../../images/attr_call_task.png}    \includegraphics{../../images/attr_call_int.png}  
\footnotesize {\itshape (refer to \hyperlink{legend}{Legend} for details)}
\normalsize 


\begin{DoxyParams}{Parameters}
{\em fmem} & pointer to already allocated {\ttfamily struct \hyperlink{structTN__FMem}{T\+N\+\_\+\+F\+Mem}}. \\
\hline
{\em start\+\_\+addr} & pointer to start of the array; should be aligned properly, see example above \\
\hline
{\em block\+\_\+size} & size of memory block; should be a multiple of {\ttfamily sizeof(\hyperlink{tn__arch__example_8h_ab80cba0fe9ffcd9011d53dfeb9e39bf4}{T\+N\+\_\+\+U\+Word})}, see example above \\
\hline
{\em blocks\+\_\+cnt} & capacity (total number of blocks in the memory pool)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876afb291924237186f5765865256c75e639}{T\+N\+\_\+\+R\+C\+\_\+\+O\+K}} if memory pool was successfully created;
\item If {\ttfamily \hyperlink{tn__cfg__default_8h_a1f197294df3276fec431930545acafd5}{T\+N\+\_\+\+C\+H\+E\+C\+K\+\_\+\+P\+A\+R\+A\+M}} is non-\/zero, additional return code is available\+: {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68}{T\+N\+\_\+\+R\+C\+\_\+\+W\+P\+A\+R\+A\+M}}.
\end{DoxyItemize}
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{tn__common_8h_a3f48380e8a624edc643319a81192d88e}{T\+N\+\_\+\+M\+A\+K\+E\+\_\+\+A\+L\+I\+G\+\_\+\+S\+I\+Z\+E} 
\end{DoxySeeAlso}
\hypertarget{tn__fmem_8h_ac9b8243577c7a14ce442879e9e68d98c}{\index{tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}!tn\+\_\+fmem\+\_\+delete@{tn\+\_\+fmem\+\_\+delete}}
\index{tn\+\_\+fmem\+\_\+delete@{tn\+\_\+fmem\+\_\+delete}!tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}}
\subsubsection[{tn\+\_\+fmem\+\_\+delete}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf T\+N\+\_\+\+R\+Code} tn\+\_\+fmem\+\_\+delete (
\begin{DoxyParamCaption}
\item[{struct {\bf T\+N\+\_\+\+F\+Mem} $\ast$}]{fmem}
\end{DoxyParamCaption}
)}}\label{tn__fmem_8h_ac9b8243577c7a14ce442879e9e68d98c}


Destruct fixed memory blocks pool. 

All tasks that wait for free memory block become runnable with {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a3252967d2fdefcfbd4eb720ed4663d84}{T\+N\+\_\+\+R\+C\+\_\+\+D\+E\+L\+E\+T\+E\+D}} code returned.

  \includegraphics{../../images/attr_call_task.png}    \includegraphics{../../images/attr_call_ct_sw.png}  
\footnotesize {\itshape (refer to \hyperlink{legend}{Legend} for details)}
\normalsize 


\begin{DoxyParams}{Parameters}
{\em fmem} & pointer to memory pool to be deleted\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876afb291924237186f5765865256c75e639}{T\+N\+\_\+\+R\+C\+\_\+\+O\+K}} if memory pool is successfully deleted;
\item {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a886368391507ae426bfdedc38284db9d}{T\+N\+\_\+\+R\+C\+\_\+\+W\+C\+O\+N\+T\+E\+X\+T}} if called from wrong context;
\item If {\ttfamily \hyperlink{tn__cfg__default_8h_a1f197294df3276fec431930545acafd5}{T\+N\+\_\+\+C\+H\+E\+C\+K\+\_\+\+P\+A\+R\+A\+M}} is non-\/zero, additional return codes are available\+: {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68}{T\+N\+\_\+\+R\+C\+\_\+\+W\+P\+A\+R\+A\+M}} and {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a2a2df8fecee990d279889924926bf101}{T\+N\+\_\+\+R\+C\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+O\+B\+J}}. 
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{tn__fmem_8h_afb45a1f427b531b22f1f4b013f415ae0}{\index{tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}!tn\+\_\+fmem\+\_\+get@{tn\+\_\+fmem\+\_\+get}}
\index{tn\+\_\+fmem\+\_\+get@{tn\+\_\+fmem\+\_\+get}!tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}}
\subsubsection[{tn\+\_\+fmem\+\_\+get}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf T\+N\+\_\+\+R\+Code} tn\+\_\+fmem\+\_\+get (
\begin{DoxyParamCaption}
\item[{struct {\bf T\+N\+\_\+\+F\+Mem} $\ast$}]{fmem, }
\item[{void $\ast$$\ast$}]{p\+\_\+data, }
\item[{{\bf T\+N\+\_\+\+Timeout}}]{timeout}
\end{DoxyParamCaption}
)}}\label{tn__fmem_8h_afb45a1f427b531b22f1f4b013f415ae0}


Get memory block from the pool. 

Start address of the memory block is returned through the {\ttfamily p\+\_\+data} argument. The content of memory block is undefined. If there is no free block in the pool, behavior depends on {\ttfamily timeout} value\+: refer to {\ttfamily \hyperlink{tn__common_8h_a34c07c1fa20ae71d17817d28a41957fe}{T\+N\+\_\+\+Timeout}}.

  \includegraphics{../../images/attr_call_task.png}    \includegraphics{../../images/attr_call_ct_sw.png}    \includegraphics{../../images/attr_timeout.png}  
\footnotesize {\itshape (refer to \hyperlink{legend}{Legend} for details)}
\normalsize 


\begin{DoxyParams}{Parameters}
{\em fmem} & Pointer to memory pool \\
\hline
{\em p\+\_\+data} & Address of the {\ttfamily (void $\ast$)} to which received block address will be saved \\
\hline
{\em timeout} & Refer to {\ttfamily \hyperlink{tn__common_8h_a34c07c1fa20ae71d17817d28a41957fe}{T\+N\+\_\+\+Timeout}}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876afb291924237186f5765865256c75e639}{T\+N\+\_\+\+R\+C\+\_\+\+O\+K}} if block was successfully returned through {\ttfamily p\+\_\+data};
\item {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a886368391507ae426bfdedc38284db9d}{T\+N\+\_\+\+R\+C\+\_\+\+W\+C\+O\+N\+T\+E\+X\+T}} if called from wrong context;
\item Other possible return codes depend on {\ttfamily timeout} value, refer to {\ttfamily \hyperlink{tn__common_8h_a34c07c1fa20ae71d17817d28a41957fe}{T\+N\+\_\+\+Timeout}}
\item If {\ttfamily \hyperlink{tn__cfg__default_8h_a1f197294df3276fec431930545acafd5}{T\+N\+\_\+\+C\+H\+E\+C\+K\+\_\+\+P\+A\+R\+A\+M}} is non-\/zero, additional return codes are available\+: {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68}{T\+N\+\_\+\+R\+C\+\_\+\+W\+P\+A\+R\+A\+M}} and {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a2a2df8fecee990d279889924926bf101}{T\+N\+\_\+\+R\+C\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+O\+B\+J}}. 
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{tn__fmem_8h_affea42ad41734fadfe8170b4234ca567}{\index{tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}!tn\+\_\+fmem\+\_\+get\+\_\+polling@{tn\+\_\+fmem\+\_\+get\+\_\+polling}}
\index{tn\+\_\+fmem\+\_\+get\+\_\+polling@{tn\+\_\+fmem\+\_\+get\+\_\+polling}!tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}}
\subsubsection[{tn\+\_\+fmem\+\_\+get\+\_\+polling}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf T\+N\+\_\+\+R\+Code} tn\+\_\+fmem\+\_\+get\+\_\+polling (
\begin{DoxyParamCaption}
\item[{struct {\bf T\+N\+\_\+\+F\+Mem} $\ast$}]{fmem, }
\item[{void $\ast$$\ast$}]{p\+\_\+data}
\end{DoxyParamCaption}
)}}\label{tn__fmem_8h_affea42ad41734fadfe8170b4234ca567}


The same as {\ttfamily \hyperlink{tn__fmem_8h_afb45a1f427b531b22f1f4b013f415ae0}{tn\+\_\+fmem\+\_\+get()}} with zero timeout. 

  \includegraphics{../../images/attr_call_task.png}    \includegraphics{../../images/attr_call_ct_sw.png}  
\footnotesize {\itshape (refer to \hyperlink{legend}{Legend} for details)}
\normalsize  \hypertarget{tn__fmem_8h_a24ef67ab8567f6dd4d08946711f756df}{\index{tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}!tn\+\_\+fmem\+\_\+iget\+\_\+polling@{tn\+\_\+fmem\+\_\+iget\+\_\+polling}}
\index{tn\+\_\+fmem\+\_\+iget\+\_\+polling@{tn\+\_\+fmem\+\_\+iget\+\_\+polling}!tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}}
\subsubsection[{tn\+\_\+fmem\+\_\+iget\+\_\+polling}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf T\+N\+\_\+\+R\+Code} tn\+\_\+fmem\+\_\+iget\+\_\+polling (
\begin{DoxyParamCaption}
\item[{struct {\bf T\+N\+\_\+\+F\+Mem} $\ast$}]{fmem, }
\item[{void $\ast$$\ast$}]{p\+\_\+data}
\end{DoxyParamCaption}
)}}\label{tn__fmem_8h_a24ef67ab8567f6dd4d08946711f756df}


The same as {\ttfamily \hyperlink{tn__fmem_8h_afb45a1f427b531b22f1f4b013f415ae0}{tn\+\_\+fmem\+\_\+get()}} with zero timeout, but for using in the I\+S\+R. 

  \includegraphics{../../images/attr_call_int.png}    \includegraphics{../../images/attr_call_ct_sw.png}  
\footnotesize {\itshape (refer to \hyperlink{legend}{Legend} for details)}
\normalsize  \hypertarget{tn__fmem_8h_adc5dfb589f4ef2347021c727cd4cc030}{\index{tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}!tn\+\_\+fmem\+\_\+release@{tn\+\_\+fmem\+\_\+release}}
\index{tn\+\_\+fmem\+\_\+release@{tn\+\_\+fmem\+\_\+release}!tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}}
\subsubsection[{tn\+\_\+fmem\+\_\+release}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf T\+N\+\_\+\+R\+Code} tn\+\_\+fmem\+\_\+release (
\begin{DoxyParamCaption}
\item[{struct {\bf T\+N\+\_\+\+F\+Mem} $\ast$}]{fmem, }
\item[{void $\ast$}]{p\+\_\+data}
\end{DoxyParamCaption}
)}}\label{tn__fmem_8h_adc5dfb589f4ef2347021c727cd4cc030}


Release memory block back to the pool. 

The kernel does not check the validity of the membership of given block in the memory pool. If all the memory blocks in the pool are free already, {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a77ac7e9b81ba707565e7fe5d4c793dec}{T\+N\+\_\+\+R\+C\+\_\+\+O\+V\+E\+R\+F\+L\+O\+W}} is returned.

  \includegraphics{../../images/attr_call_task.png}    \includegraphics{../../images/attr_call_ct_sw.png}  
\footnotesize {\itshape (refer to \hyperlink{legend}{Legend} for details)}
\normalsize 


\begin{DoxyParams}{Parameters}
{\em fmem} & Pointer to memory pool. \\
\hline
{\em p\+\_\+data} & Address of the memory block to release.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876afb291924237186f5765865256c75e639}{T\+N\+\_\+\+R\+C\+\_\+\+O\+K}} on success
\item {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a886368391507ae426bfdedc38284db9d}{T\+N\+\_\+\+R\+C\+\_\+\+W\+C\+O\+N\+T\+E\+X\+T}} if called from wrong context;
\item If {\ttfamily \hyperlink{tn__cfg__default_8h_a1f197294df3276fec431930545acafd5}{T\+N\+\_\+\+C\+H\+E\+C\+K\+\_\+\+P\+A\+R\+A\+M}} is non-\/zero, additional return codes are available\+: {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68}{T\+N\+\_\+\+R\+C\+\_\+\+W\+P\+A\+R\+A\+M}} and {\ttfamily \hyperlink{tn__common_8h_aa43bd3da1ad4c1e61224b5f23b369876a2a2df8fecee990d279889924926bf101}{T\+N\+\_\+\+R\+C\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+O\+B\+J}}. 
\end{DoxyItemize}
\end{DoxyReturn}
\hypertarget{tn__fmem_8h_a061edcb30a486dba289aa136af7b68f6}{\index{tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}!tn\+\_\+fmem\+\_\+irelease@{tn\+\_\+fmem\+\_\+irelease}}
\index{tn\+\_\+fmem\+\_\+irelease@{tn\+\_\+fmem\+\_\+irelease}!tn\+\_\+fmem.\+h@{tn\+\_\+fmem.\+h}}
\subsubsection[{tn\+\_\+fmem\+\_\+irelease}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf T\+N\+\_\+\+R\+Code} tn\+\_\+fmem\+\_\+irelease (
\begin{DoxyParamCaption}
\item[{struct {\bf T\+N\+\_\+\+F\+Mem} $\ast$}]{fmem, }
\item[{void $\ast$}]{p\+\_\+data}
\end{DoxyParamCaption}
)}}\label{tn__fmem_8h_a061edcb30a486dba289aa136af7b68f6}


The same as {\ttfamily \hyperlink{tn__fmem_8h_afb45a1f427b531b22f1f4b013f415ae0}{tn\+\_\+fmem\+\_\+get()}}, but for using in the I\+S\+R. 

  \includegraphics{../../images/attr_call_int.png}    \includegraphics{../../images/attr_call_ct_sw.png}  
\footnotesize {\itshape (refer to \hyperlink{legend}{Legend} for details)}
\normalsize  