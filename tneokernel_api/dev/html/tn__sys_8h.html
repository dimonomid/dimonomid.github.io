<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<title>TNeo: core/tn_sys.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-7163754-5', 'auto');
  ga('send', 'pageview');
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TNeo
   &#160;<span id="projectnumber">BETA v1.08-11-g97e5a6d</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4270bfced15e0e73154b13468c7c9ad9.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tn_sys.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Kernel system routines: system start, tick processing, time slice managing. </p>

<p class="definition">Definition in file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>
</div>
<p><a href="tn__sys_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__TN__BuildCfg.html">_TN_BuildCfg</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure with build-time configurations values; it is needed for run-time check which ensures that build-time options for the kernel match ones for the application.  <a href="struct__TN__BuildCfg.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad61af0f0e9ab96bdf1ac1bf1e03e3c75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#ad61af0f0e9ab96bdf1ac1bf1e03e3c75">TN_STACK_ARR_DEF</a>(name,  size)</td></tr>
<tr class="memdesc:ad61af0f0e9ab96bdf1ac1bf1e03e3c75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience macro for the definition of stack array.  <a href="#ad61af0f0e9ab96bdf1ac1bf1e03e3c75">More...</a><br /></td></tr>
<tr class="separator:ad61af0f0e9ab96bdf1ac1bf1e03e3c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98662c1f06abe650958bbf208414e18"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#ad98662c1f06abe650958bbf208414e18">_TN_BUILD_CFG_ARCH_STRUCT_FILL</a>(_p_struct)</td></tr>
<tr class="memdesc:ad98662c1f06abe650958bbf208414e18"><td class="mdescLeft">&#160;</td><td class="mdescRight">For internal kernel usage: helper macro that fills architecture-dependent values.  <a href="#ad98662c1f06abe650958bbf208414e18">More...</a><br /></td></tr>
<tr class="separator:ad98662c1f06abe650958bbf208414e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7784d4218225b2cbd087628bad0d544a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a7784d4218225b2cbd087628bad0d544a">_TN_BUILD_CFG_STRUCT_FILL</a>(_p_struct)</td></tr>
<tr class="memdesc:a7784d4218225b2cbd087628bad0d544a"><td class="mdescLeft">&#160;</td><td class="mdescRight">For internal kernel usage: fill the structure <code><a class="el" href="struct__TN__BuildCfg.html" title="Structure with build-time configurations values; it is needed for run-time check which ensures that b...">_TN_BuildCfg</a></code> with current build-time configuration values.  <a href="#a7784d4218225b2cbd087628bad0d544a">More...</a><br /></td></tr>
<tr class="separator:a7784d4218225b2cbd087628bad0d544a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af26252bf220b89153a9fe6f5daf81237"><td class="memItemLeft" align="right" valign="top"><a id="af26252bf220b89153a9fe6f5daf81237"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#af26252bf220b89153a9fe6f5daf81237">_TN_MAX_INLINED_FUNC</a>&#160;&#160;&#160;/* nothing */</td></tr>
<tr class="memdesc:af26252bf220b89153a9fe6f5daf81237"><td class="mdescLeft">&#160;</td><td class="mdescRight">For internal kernel usage: helper macro that allows functions to be inlined or not depending on configuration (see <code><a class="el" href="tn__cfg__default_8h.html#a50a44e397e61bf00e33ebb25ac417c56" title="Whether a maximum of reasonable functions should be inlined. ">TN_MAX_INLINE</a></code>) <br /></td></tr>
<tr class="separator:af26252bf220b89153a9fe6f5daf81237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab389cb36d15c2390d7868b10391c9b49"><td class="memItemLeft" align="right" valign="top"><a id="ab389cb36d15c2390d7868b10391c9b49"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#ab389cb36d15c2390d7868b10391c9b49">TN_NO_TIME_SLICE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ab389cb36d15c2390d7868b10391c9b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value to pass to <code><a class="el" href="tn__sys_8h.html#a05fc370b6faa604fd8ff9411361c4cd0" title="Set time slice ticks value for specified priority (see Round-robin scheduling). ">tn_sys_tslice_set()</a></code> to turn round-robin off. <br /></td></tr>
<tr class="separator:ab389cb36d15c2390d7868b10391c9b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546b128561cc3bf46d0423bad1f5c8c7"><td class="memItemLeft" align="right" valign="top"><a id="a546b128561cc3bf46d0423bad1f5c8c7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a546b128561cc3bf46d0423bad1f5c8c7">TN_MAX_TIME_SLICE</a>&#160;&#160;&#160;0xFFFE</td></tr>
<tr class="memdesc:a546b128561cc3bf46d0423bad1f5c8c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max value of time slice. <br /></td></tr>
<tr class="separator:a546b128561cc3bf46d0423bad1f5c8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aaa9bbc6c586cf6ce8d982b8d79bc27d6"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#aaa9bbc6c586cf6ce8d982b8d79bc27d6">TN_CBUserTaskCreate</a>(void)</td></tr>
<tr class="memdesc:aaa9bbc6c586cf6ce8d982b8d79bc27d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">User-provided callback function that is called directly from <code><a class="el" href="tn__sys_8h.html#a62ab25d9d8ca01c02d368968f19e49bf" title="Initial TNeo system start function, never returns. ">tn_sys_start()</a></code> as a part of system startup routine; it should merely create at least one (and typically just one) user's task, which should perform all the rest application initialization.  <a href="#aaa9bbc6c586cf6ce8d982b8d79bc27d6">More...</a><br /></td></tr>
<tr class="separator:aaa9bbc6c586cf6ce8d982b8d79bc27d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3811d563ff671cb7bd1519735e20fd1"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#ac3811d563ff671cb7bd1519735e20fd1">TN_CBIdle</a>(void)</td></tr>
<tr class="memdesc:ac3811d563ff671cb7bd1519735e20fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">User-provided callback function which is called repeatedly from the idle task loop.  <a href="#ac3811d563ff671cb7bd1519735e20fd1">More...</a><br /></td></tr>
<tr class="separator:ac3811d563ff671cb7bd1519735e20fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64b76c41f847eff5ee6c8bb0f337c946"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a64b76c41f847eff5ee6c8bb0f337c946">TN_CBStackOverflow</a>(struct <a class="el" href="structTN__Task.html">TN_Task</a> *task)</td></tr>
<tr class="memdesc:a64b76c41f847eff5ee6c8bb0f337c946"><td class="mdescLeft">&#160;</td><td class="mdescRight">User-provided callback function that is called when the kernel detects stack overflow (see <code><a class="el" href="tn__cfg__default_8h.html#ac6a9bbac3b3b25d9b5bc8c21d2e09955" title="Whether software stack overflow check is enabled. ">TN_STACK_OVERFLOW_CHECK</a></code>).  <a href="#a64b76c41f847eff5ee6c8bb0f337c946">More...</a><br /></td></tr>
<tr class="separator:a64b76c41f847eff5ee6c8bb0f337c946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a0439b7ba640754949f6d2c8e4ccc06"><td class="memItemLeft" align="right" valign="top">typedef void()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a3a0439b7ba640754949f6d2c8e4ccc06">TN_CBDeadlock</a>(<a class="el" href="tn__common_8h.html#a9f76389d1506addfc7542f54e484a92c">TN_BOOL</a> active, struct <a class="el" href="structTN__Mutex.html">TN_Mutex</a> *mutex, struct <a class="el" href="structTN__Task.html">TN_Task</a> *task)</td></tr>
<tr class="memdesc:a3a0439b7ba640754949f6d2c8e4ccc06"><td class="mdescLeft">&#160;</td><td class="mdescRight">User-provided callback function that is called whenever deadlock becomes active or inactive.  <a href="#a3a0439b7ba640754949f6d2c8e4ccc06">More...</a><br /></td></tr>
<tr class="separator:a3a0439b7ba640754949f6d2c8e4ccc06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ace9542d94b996fb2070cd57d6658a2d8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#ace9542d94b996fb2070cd57d6658a2d8">TN_StateFlag</a> { <a class="el" href="tn__sys_8h.html#ace9542d94b996fb2070cd57d6658a2d8aa5085b1c78bc7e75aeac04a76cab6a52">TN_STATE_FLAG__SYS_RUNNING</a> = (1 &lt;&lt; 0), 
<a class="el" href="tn__sys_8h.html#ace9542d94b996fb2070cd57d6658a2d8a188c405a2cde555e7aaaeaa1189a4580">TN_STATE_FLAG__DEADLOCK</a> = (1 &lt;&lt; 1)
 }<tr class="memdesc:ace9542d94b996fb2070cd57d6658a2d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">System state flags.  <a href="tn__sys_8h.html#ace9542d94b996fb2070cd57d6658a2d8">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ace9542d94b996fb2070cd57d6658a2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54b0c697dfdb3b59e7bcc6eb7badda51"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51">TN_Context</a> { <a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51ac6015804609fb2bb71335015c51c40a3">TN_CONTEXT_NONE</a>, 
<a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51ab78bafeb369a85700f793a7375e38ec6">TN_CONTEXT_TASK</a>, 
<a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51a4b0defef531f47e8cf5dc274355b6626">TN_CONTEXT_ISR</a>
 }<tr class="memdesc:a54b0c697dfdb3b59e7bcc6eb7badda51"><td class="mdescLeft">&#160;</td><td class="mdescRight">System context.  <a href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a54b0c697dfdb3b59e7bcc6eb7badda51"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a62ab25d9d8ca01c02d368968f19e49bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a62ab25d9d8ca01c02d368968f19e49bf">tn_sys_start</a> (<a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4">TN_UWord</a> *idle_task_stack, unsigned int idle_task_stack_size, <a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4">TN_UWord</a> *int_stack, unsigned int int_stack_size, <a class="el" href="tn__sys_8h.html#aaa9bbc6c586cf6ce8d982b8d79bc27d6">TN_CBUserTaskCreate</a> *cb_user_task_create, <a class="el" href="tn__sys_8h.html#ac3811d563ff671cb7bd1519735e20fd1">TN_CBIdle</a> *cb_idle)</td></tr>
<tr class="memdesc:a62ab25d9d8ca01c02d368968f19e49bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial TNeo system start function, never returns.  <a href="#a62ab25d9d8ca01c02d368968f19e49bf">More...</a><br /></td></tr>
<tr class="separator:a62ab25d9d8ca01c02d368968f19e49bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa44d297639e0520420890ef2bb7e2c1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#aa44d297639e0520420890ef2bb7e2c1c">tn_tick_int_processing</a> (void)</td></tr>
<tr class="memdesc:aa44d297639e0520420890ef2bb7e2c1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process system tick; should be called periodically, typically from some kind of timer ISR.  <a href="#aa44d297639e0520420890ef2bb7e2c1c">More...</a><br /></td></tr>
<tr class="separator:aa44d297639e0520420890ef2bb7e2c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05fc370b6faa604fd8ff9411361c4cd0"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a05fc370b6faa604fd8ff9411361c4cd0">tn_sys_tslice_set</a> (int priority, int ticks)</td></tr>
<tr class="memdesc:a05fc370b6faa604fd8ff9411361c4cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set time slice ticks value for specified priority (see <a class="el" href="quick_guide.html#round_robin">Round-robin scheduling</a>).  <a href="#a05fc370b6faa604fd8ff9411361c4cd0">More...</a><br /></td></tr>
<tr class="separator:a05fc370b6faa604fd8ff9411361c4cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4864ca85d87bab0fa95ce11aefcd1a92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tn__common_8h.html#ac885b63d00c063de61cdbd80bf26d8aa">TN_TickCnt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a4864ca85d87bab0fa95ce11aefcd1a92">tn_sys_time_get</a> (void)</td></tr>
<tr class="memdesc:a4864ca85d87bab0fa95ce11aefcd1a92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current system ticks count.  <a href="#a4864ca85d87bab0fa95ce11aefcd1a92">More...</a><br /></td></tr>
<tr class="separator:a4864ca85d87bab0fa95ce11aefcd1a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa4a5c2feb4a0db5993b81dde496edc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#aaa4a5c2feb4a0db5993b81dde496edc3">tn_callback_deadlock_set</a> (<a class="el" href="tn__sys_8h.html#a3a0439b7ba640754949f6d2c8e4ccc06">TN_CBDeadlock</a> *cb)</td></tr>
<tr class="memdesc:aaa4a5c2feb4a0db5993b81dde496edc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set callback function that should be called whenever deadlock occurs or becomes inactive (say, if one of tasks involved in the deadlock was released from wait because of timeout)  <a href="#aaa4a5c2feb4a0db5993b81dde496edc3">More...</a><br /></td></tr>
<tr class="separator:aaa4a5c2feb4a0db5993b81dde496edc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab40a7069739439d7b70cc4e19d0b9fe3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#ab40a7069739439d7b70cc4e19d0b9fe3">tn_callback_stack_overflow_set</a> (<a class="el" href="tn__sys_8h.html#a64b76c41f847eff5ee6c8bb0f337c946">TN_CBStackOverflow</a> *cb)</td></tr>
<tr class="memdesc:ab40a7069739439d7b70cc4e19d0b9fe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set callback function that is called when the kernel detects stack overflow (see <code><a class="el" href="tn__cfg__default_8h.html#ac6a9bbac3b3b25d9b5bc8c21d2e09955" title="Whether software stack overflow check is enabled. ">TN_STACK_OVERFLOW_CHECK</a></code>).  <a href="#ab40a7069739439d7b70cc4e19d0b9fe3">More...</a><br /></td></tr>
<tr class="separator:ab40a7069739439d7b70cc4e19d0b9fe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a202fb30400101599c1e39ba4e58d2fd5"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__sys_8h.html#ace9542d94b996fb2070cd57d6658a2d8">TN_StateFlag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a202fb30400101599c1e39ba4e58d2fd5">tn_sys_state_flags_get</a> (void)</td></tr>
<tr class="memdesc:a202fb30400101599c1e39ba4e58d2fd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current system state flags.  <a href="#a202fb30400101599c1e39ba4e58d2fd5">More...</a><br /></td></tr>
<tr class="separator:a202fb30400101599c1e39ba4e58d2fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3233931746c9d8b84ebd34a2a3a468a"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51">TN_Context</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#ac3233931746c9d8b84ebd34a2a3a468a">tn_sys_context_get</a> (void)</td></tr>
<tr class="memdesc:ac3233931746c9d8b84ebd34a2a3a468a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns system context: task or ISR.  <a href="#ac3233931746c9d8b84ebd34a2a3a468a">More...</a><br /></td></tr>
<tr class="separator:ac3233931746c9d8b84ebd34a2a3a468a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75204c95f65f14283921931b3baada0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tn__arch__example_8h.html#a39b8c7b5ae653ec71be6f5a821eec3f6">_TN_STATIC_INLINE</a> <a class="el" href="tn__common_8h.html#a9f76389d1506addfc7542f54e484a92c">TN_BOOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a75204c95f65f14283921931b3baada0a">tn_is_task_context</a> (void)</td></tr>
<tr class="memdesc:a75204c95f65f14283921931b3baada0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether current system context is <code><a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51ab78bafeb369a85700f793a7375e38ec6" title="Task context. ">TN_CONTEXT_TASK</a></code>  <a href="#a75204c95f65f14283921931b3baada0a">More...</a><br /></td></tr>
<tr class="separator:a75204c95f65f14283921931b3baada0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b1d9eba4ab359a2632ecd986f4a42b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tn__arch__example_8h.html#a39b8c7b5ae653ec71be6f5a821eec3f6">_TN_STATIC_INLINE</a> <a class="el" href="tn__common_8h.html#a9f76389d1506addfc7542f54e484a92c">TN_BOOL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#ad2b1d9eba4ab359a2632ecd986f4a42b">tn_is_isr_context</a> (void)</td></tr>
<tr class="memdesc:ad2b1d9eba4ab359a2632ecd986f4a42b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether current system context is <code><a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51a4b0defef531f47e8cf5dc274355b6626" title="ISR context. ">TN_CONTEXT_ISR</a></code>  <a href="#ad2b1d9eba4ab359a2632ecd986f4a42b">More...</a><br /></td></tr>
<tr class="separator:ad2b1d9eba4ab359a2632ecd986f4a42b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ca353dcf362a5aa8d2e5a3960e51410"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structTN__Task.html">TN_Task</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a2ca353dcf362a5aa8d2e5a3960e51410">tn_cur_task_get</a> (void)</td></tr>
<tr class="memdesc:a2ca353dcf362a5aa8d2e5a3960e51410"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns pointer to the currently running task.  <a href="#a2ca353dcf362a5aa8d2e5a3960e51410">More...</a><br /></td></tr>
<tr class="separator:a2ca353dcf362a5aa8d2e5a3960e51410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa3c83dce52b17c9ee07b34af0fcebab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tn__common_8h.html#a603cbe1ffdafc7e6813ef692bbd7d22f">TN_TaskBody</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#afa3c83dce52b17c9ee07b34af0fcebab">tn_cur_task_body_get</a> (void)</td></tr>
<tr class="memdesc:afa3c83dce52b17c9ee07b34af0fcebab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns pointer to the body function of the currently running task.  <a href="#afa3c83dce52b17c9ee07b34af0fcebab">More...</a><br /></td></tr>
<tr class="separator:afa3c83dce52b17c9ee07b34af0fcebab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1502619506a9c92eb954e45ff0f461b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tn__arch__example_8h.html#a39b8c7b5ae653ec71be6f5a821eec3f6">_TN_STATIC_INLINE</a> <a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4">TN_UWord</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#af1502619506a9c92eb954e45ff0f461b">tn_sched_dis_save</a> (void)</td></tr>
<tr class="memdesc:af1502619506a9c92eb954e45ff0f461b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable kernel scheduler and return previous scheduler state.  <a href="#af1502619506a9c92eb954e45ff0f461b">More...</a><br /></td></tr>
<tr class="separator:af1502619506a9c92eb954e45ff0f461b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cd5c9113872b2008184c567907653bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tn__arch__example_8h.html#a39b8c7b5ae653ec71be6f5a821eec3f6">_TN_STATIC_INLINE</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#a4cd5c9113872b2008184c567907653bd">tn_sched_restore</a> (<a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4">TN_UWord</a> sched_state)</td></tr>
<tr class="memdesc:a4cd5c9113872b2008184c567907653bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore state of the kernel scheduler.  <a href="#a4cd5c9113872b2008184c567907653bd">More...</a><br /></td></tr>
<tr class="separator:a4cd5c9113872b2008184c567907653bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4e879240635c8f73e20905b8e499c1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tn__sys_8h.html#ab4e879240635c8f73e20905b8e499c1c">tn_callback_dyn_tick_set</a> (<a class="el" href="tn__timer_8h.html#a8c64f098ee0fa587a985d149b81bfba9">TN_CBTickSchedule</a> *cb_tick_schedule, <a class="el" href="tn__timer_8h.html#a4cc3440639e990e3a3015b95e805374a">TN_CBTickCntGet</a> *cb_tick_cnt_get)</td></tr>
<tr class="memdesc:ab4e879240635c8f73e20905b8e499c1c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>Available if only <a class="el" href="tn__cfg__default_8h.html#aaee875834a86f961318c584095c366fe"><code>TN_DYNAMIC_TICK</code> </a> is <b>set</b>.</em>  <a href="#ab4e879240635c8f73e20905b8e499c1c">More...</a><br /></td></tr>
<tr class="separator:ab4e879240635c8f73e20905b8e499c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad61af0f0e9ab96bdf1ac1bf1e03e3c75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad61af0f0e9ab96bdf1ac1bf1e03e3c75">&#9670;&nbsp;</a></span>TN_STACK_ARR_DEF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TN_STACK_ARR_DEF</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">TN_ARCH_STK_ATTR_BEFORE                   \</div><div class="line">   TN_UWord name[ (size) ]                   \</div><div class="line">   <a class="code" href="tn__arch__example_8h.html#ab082613959b539182b8b47bc87d18d6a">TN_ARCH_STK_ATTR_AFTER</a></div><div class="ttc" id="tn__arch__example_8h_html_ab082613959b539182b8b47bc87d18d6a"><div class="ttname"><a href="tn__arch__example_8h.html#ab082613959b539182b8b47bc87d18d6a">TN_ARCH_STK_ATTR_AFTER</a></div><div class="ttdeci">#define TN_ARCH_STK_ATTR_AFTER</div><div class="ttdoc">Compiler-specific attribute that should be placed after declaration of array used for stack...</div><div class="ttdef"><b>Definition:</b> <a href="tn__arch__example_8h_source.html#l00088">tn_arch_example.h:88</a></div></div>
</div><!-- fragment -->
<p>Convenience macro for the definition of stack array. </p>
<p>See <code><a class="el" href="tn__tasks_8h.html#a548d5adda09d1b4e393b5df0e9e1a7a5" title="Construct task and probably start it (depends on options, see below). ">tn_task_create()</a></code> for the usage example.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>C variable name of the array </td></tr>
    <tr><td class="paramname">size</td><td>size of the stack array in words (<code><a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4" title="Unsigned integer type whose size is equal to the size of CPU register. ">TN_UWord</a></code>), not in bytes. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00087">87</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<a id="ad98662c1f06abe650958bbf208414e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad98662c1f06abe650958bbf208414e18">&#9670;&nbsp;</a></span>_TN_BUILD_CFG_ARCH_STRUCT_FILL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _TN_BUILD_CFG_ARCH_STRUCT_FILL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_p_struct</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For internal kernel usage: helper macro that fills architecture-dependent values. </p>
<p>This macro is used by <code><a class="el" href="tn__sys_8h.html#a7784d4218225b2cbd087628bad0d544a" title="For internal kernel usage: fill the structure _TN_BuildCfg with current build-time configuration valu...">_TN_BUILD_CFG_STRUCT_FILL()</a></code> only. </p>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00107">107</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<a id="a7784d4218225b2cbd087628bad0d544a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7784d4218225b2cbd087628bad0d544a">&#9670;&nbsp;</a></span>_TN_BUILD_CFG_STRUCT_FILL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _TN_BUILD_CFG_STRUCT_FILL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_p_struct</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                       \</div><div class="line">   memset((_p_struct), 0x00, <span class="keyword">sizeof</span>(*(_p_struct)));                     \</div><div class="line">                                                                        \</div><div class="line">   (_p_struct)-&gt;priorities_cnt            = <a class="code" href="tn__cfg__default_8h.html#aad74a059c61567c68a1e9067ab47a256">TN_PRIORITIES_CNT</a>;          \</div><div class="line">   (_p_struct)-&gt;check_param               = <a class="code" href="tn__cfg__default_8h.html#a1f197294df3276fec431930545acafd5">TN_CHECK_PARAM</a>;             \</div><div class="line">   (_p_struct)-&gt;debug                     = <a class="code" href="tn__cfg__default_8h.html#a9d2b6d902efdbc56094bb913413aa69c">TN_DEBUG</a>;                   \</div><div class="line">   (_p_struct)-&gt;use_mutexes               = <a class="code" href="tn__cfg__default_8h.html#a7ce674edab5345c4b8d2ec251eea18eb">TN_USE_MUTEXES</a>;             \</div><div class="line">   (_p_struct)-&gt;mutex_rec                 = <a class="code" href="tn__cfg__default_8h.html#a2557da78508c4241aceee92475df3581">TN_MUTEX_REC</a>;               \</div><div class="line">   (_p_struct)-&gt;mutex_deadlock_detect     = <a class="code" href="tn__cfg__default_8h.html#a6ed3ec7b0d4338e7f60dde86b7ea5fa4">TN_MUTEX_DEADLOCK_DETECT</a>;   \</div><div class="line">   (_p_struct)-&gt;tick_lists_cnt_minus_one  = (<a class="code" href="tn__cfg__default_8h.html#afef2a6ec1baa81edaa979024af0c924a">TN_TICK_LISTS_CNT</a> - 1);    \</div><div class="line">   (_p_struct)-&gt;api_make_alig_arg         = <a class="code" href="tn__cfg__default_8h.html#a2a1148efc6a74131cc83ee50cbc386cd">TN_API_MAKE_ALIG_ARG</a>;       \</div><div class="line">   (_p_struct)-&gt;profiler                  = <a class="code" href="tn__cfg__default_8h.html#a49a546b18cc1f75b51d4cf8b290634dd">TN_PROFILER</a>;                \</div><div class="line">   (_p_struct)-&gt;profiler_wait_time        = <a class="code" href="tn__cfg__default_8h.html#a1c04db5457adb54f7cc38d42b29a5ad7">TN_PROFILER_WAIT_TIME</a>;      \</div><div class="line">   (_p_struct)-&gt;stack_overflow_check      = <a class="code" href="tn__cfg__default_8h.html#ac6a9bbac3b3b25d9b5bc8c21d2e09955">TN_STACK_OVERFLOW_CHECK</a>;    \</div><div class="line">   (_p_struct)-&gt;dynamic_tick              = <a class="code" href="tn__cfg__default_8h.html#aaee875834a86f961318c584095c366fe">TN_DYNAMIC_TICK</a>;            \</div><div class="line">   (_p_struct)-&gt;old_events_api            = <a class="code" href="tn__cfg__default_8h.html#ac61d5f6a716cdcab205a2c8afbde4242">TN_OLD_EVENT_API</a>;           <a class="code" href="tn__sys_8h.html#ad98662c1f06abe650958bbf208414e18">\</a></div><div class="line"><a class="code" href="tn__sys_8h.html#ad98662c1f06abe650958bbf208414e18">                                                                        \</a></div><div class="line"><a class="code" href="tn__sys_8h.html#ad98662c1f06abe650958bbf208414e18">   _TN_BUILD_CFG_ARCH_STRUCT_FILL</a>(_p_struct);                           \</div><div class="line">}</div><div class="ttc" id="tn__cfg__default_8h_html_aaee875834a86f961318c584095c366fe"><div class="ttname"><a href="tn__cfg__default_8h.html#aaee875834a86f961318c584095c366fe">TN_DYNAMIC_TICK</a></div><div class="ttdeci">#define TN_DYNAMIC_TICK</div><div class="ttdoc">Whether the kernel should use Dynamic tick scheme instead of Static tick. </div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00334">tn_cfg_default.h:334</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_a2a1148efc6a74131cc83ee50cbc386cd"><div class="ttname"><a href="tn__cfg__default_8h.html#a2a1148efc6a74131cc83ee50cbc386cd">TN_API_MAKE_ALIG_ARG</a></div><div class="ttdeci">#define TN_API_MAKE_ALIG_ARG</div><div class="ttdoc">API option for MAKE_ALIG() macro. </div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00245">tn_cfg_default.h:245</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_a9d2b6d902efdbc56094bb913413aa69c"><div class="ttname"><a href="tn__cfg__default_8h.html#a9d2b6d902efdbc56094bb913413aa69c">TN_DEBUG</a></div><div class="ttdeci">#define TN_DEBUG</div><div class="ttdoc">Allows additional internal self-checking, useful to catch internal TNeo bugs as well as illegal kerne...</div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00157">tn_cfg_default.h:157</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_a49a546b18cc1f75b51d4cf8b290634dd"><div class="ttname"><a href="tn__cfg__default_8h.html#a49a546b18cc1f75b51d4cf8b290634dd">TN_PROFILER</a></div><div class="ttdeci">#define TN_PROFILER</div><div class="ttdoc">Whether profiler functionality should be enabled. </div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00259">tn_cfg_default.h:259</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_ac6a9bbac3b3b25d9b5bc8c21d2e09955"><div class="ttname"><a href="tn__cfg__default_8h.html#ac6a9bbac3b3b25d9b5bc8c21d2e09955">TN_STACK_OVERFLOW_CHECK</a></div><div class="ttdeci">#define TN_STACK_OVERFLOW_CHECK</div><div class="ttdoc">Whether software stack overflow check is enabled. </div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00324">tn_cfg_default.h:324</a></div></div>
<div class="ttc" id="tn__sys_8h_html_ad98662c1f06abe650958bbf208414e18"><div class="ttname"><a href="tn__sys_8h.html#ad98662c1f06abe650958bbf208414e18">_TN_BUILD_CFG_ARCH_STRUCT_FILL</a></div><div class="ttdeci">#define _TN_BUILD_CFG_ARCH_STRUCT_FILL(_p_struct)</div><div class="ttdoc">For internal kernel usage: helper macro that fills architecture-dependent values. ...</div><div class="ttdef"><b>Definition:</b> <a href="tn__sys_8h_source.html#l00107">tn_sys.h:107</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_a6ed3ec7b0d4338e7f60dde86b7ea5fa4"><div class="ttname"><a href="tn__cfg__default_8h.html#a6ed3ec7b0d4338e7f60dde86b7ea5fa4">TN_MUTEX_DEADLOCK_DETECT</a></div><div class="ttdeci">#define TN_MUTEX_DEADLOCK_DETECT</div><div class="ttdoc">Whether RTOS should detect deadlocks and notify user about them via callback. </div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00192">tn_cfg_default.h:192</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_afef2a6ec1baa81edaa979024af0c924a"><div class="ttname"><a href="tn__cfg__default_8h.html#afef2a6ec1baa81edaa979024af0c924a">TN_TICK_LISTS_CNT</a></div><div class="ttdeci">#define TN_TICK_LISTS_CNT</div><div class="ttdoc">Takes effect if only TN_DYNAMIC_TICK is not set. </div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00213">tn_cfg_default.h:213</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_a1c04db5457adb54f7cc38d42b29a5ad7"><div class="ttname"><a href="tn__cfg__default_8h.html#a1c04db5457adb54f7cc38d42b29a5ad7">TN_PROFILER_WAIT_TIME</a></div><div class="ttdeci">#define TN_PROFILER_WAIT_TIME</div><div class="ttdoc">Whether profiler should store wait time for each wait reason. </div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00270">tn_cfg_default.h:270</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_ac61d5f6a716cdcab205a2c8afbde4242"><div class="ttname"><a href="tn__cfg__default_8h.html#ac61d5f6a716cdcab205a2c8afbde4242">TN_OLD_EVENT_API</a></div><div class="ttdeci">#define TN_OLD_EVENT_API</div><div class="ttdoc">Whether the old TNKernel events API compatibility mode is active. </div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00370">tn_cfg_default.h:370</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_a1f197294df3276fec431930545acafd5"><div class="ttname"><a href="tn__cfg__default_8h.html#a1f197294df3276fec431930545acafd5">TN_CHECK_PARAM</a></div><div class="ttdeci">#define TN_CHECK_PARAM</div><div class="ttdoc">Enables additional param checking for most of the system functions. </div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00147">tn_cfg_default.h:147</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_a7ce674edab5345c4b8d2ec251eea18eb"><div class="ttname"><a href="tn__cfg__default_8h.html#a7ce674edab5345c4b8d2ec251eea18eb">TN_USE_MUTEXES</a></div><div class="ttdeci">#define TN_USE_MUTEXES</div><div class="ttdoc">Whether mutexes API should be available. </div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00174">tn_cfg_default.h:174</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_a2557da78508c4241aceee92475df3581"><div class="ttname"><a href="tn__cfg__default_8h.html#a2557da78508c4241aceee92475df3581">TN_MUTEX_REC</a></div><div class="ttdeci">#define TN_MUTEX_REC</div><div class="ttdoc">Whether mutexes should allow recursive locking/unlocking. </div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00181">tn_cfg_default.h:181</a></div></div>
<div class="ttc" id="tn__cfg__default_8h_html_aad74a059c61567c68a1e9067ab47a256"><div class="ttname"><a href="tn__cfg__default_8h.html#aad74a059c61567c68a1e9067ab47a256">TN_PRIORITIES_CNT</a></div><div class="ttdeci">#define TN_PRIORITIES_CNT</div><div class="ttdoc">Number of priorities that can be used by application, plus one for idle task (which has the lowest pr...</div><div class="ttdef"><b>Definition:</b> <a href="tn__cfg__default_8h_source.html#l00130">tn_cfg_default.h:130</a></div></div>
</div><!-- fragment -->
<p>For internal kernel usage: fill the structure <code><a class="el" href="struct__TN__BuildCfg.html" title="Structure with build-time configurations values; it is needed for run-time check which ensures that b...">_TN_BuildCfg</a></code> with current build-time configuration values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_p_struct</td><td>Pointer to struct <code><a class="el" href="struct__TN__BuildCfg.html" title="Structure with build-time configurations values; it is needed for run-time check which ensures that b...">_TN_BuildCfg</a></code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00119">119</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aaa9bbc6c586cf6ce8d982b8d79bc27d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa9bbc6c586cf6ce8d982b8d79bc27d6">&#9670;&nbsp;</a></span>TN_CBUserTaskCreate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() TN_CBUserTaskCreate(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User-provided callback function that is called directly from <code><a class="el" href="tn__sys_8h.html#a62ab25d9d8ca01c02d368968f19e49bf" title="Initial TNeo system start function, never returns. ">tn_sys_start()</a></code> as a part of system startup routine; it should merely create at least one (and typically just one) user's task, which should perform all the rest application initialization. </p>
<p>When <code><a class="el" href="tn__sys_8h.html#aaa9bbc6c586cf6ce8d982b8d79bc27d6" title="User-provided callback function that is called directly from tn_sys_start() as a part of system start...">TN_CBUserTaskCreate()</a></code> returned, the kernel performs first context switch to the task with highest priority. If there are several tasks with highest priority, context is switched to the first created one.</p>
<p>Refer to the section <a class="el" href="quick_guide.html#starting_the_kernel">Starting the kernel</a> for details about system startup process on the whole.</p>
<p><b>Note:</b> Although you're able to create more than one task here, it's usually not so good idea, because many things typically should be done at startup before tasks can go on with their job: we need to initialize various on-board peripherals (displays, flash memory chips, or whatever) as well as initialize software modules used by application. So, if many tasks are created here, you have to provide some synchronization object so that tasks will wait until all the initialization is done.</p>
<p>It's usually easier to maintain if we create just one task here, which firstly performs all the necessary initialization, <b>then</b> creates the rest of your tasks, and eventually gets to its primary job (the job for which task was created at all). For the usage example, refer to the page <a class="el" href="quick_guide.html#starting_the_kernel">Starting the kernel</a>.</p>
<dl class="section attention"><dt>Attention</dt><dd><ul>
<li>The only system service is allowed to call in this function is <code><a class="el" href="tn__tasks_8h.html#a548d5adda09d1b4e393b5df0e9e1a7a5" title="Construct task and probably start it (depends on options, see below). ">tn_task_create()</a></code>.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="tn__sys_8h.html#a62ab25d9d8ca01c02d368968f19e49bf" title="Initial TNeo system start function, never returns. ">tn_sys_start()</a></code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00294">294</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<a id="ac3811d563ff671cb7bd1519735e20fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3811d563ff671cb7bd1519735e20fd1">&#9670;&nbsp;</a></span>TN_CBIdle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() TN_CBIdle(void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User-provided callback function which is called repeatedly from the idle task loop. </p>
<p>Make sure that idle task has enough stack space to call this function.</p>
<p>Typically, this callback can be used for things like:</p>
<ul>
<li>MCU sleep/idle mode. When system has nothing to do, it often makes sense to bring processor to some power-saving mode. Of course, the application is responsible for setting some condition to wake up: typically, it's an interrupt.</li>
<li>Calculation of system load. The easiest implementation is to just increment some variable in the idle task. The faster value grows, the less busy system is.</li>
</ul>
<dl class="section attention"><dt>Attention</dt><dd><ul>
<li>From withing this callback, it is illegal to invoke <code><a class="el" href="tn__tasks_8h.html#ae768a72ca0efde5767796cc1770bd45e" title="Put current task to sleep for at most timeout ticks. ">tn_task_sleep()</a></code> or any other service which could put task to waiting state, because idle task (from which this function is called) should always be runnable, by design. If <code><a class="el" href="tn__cfg__default_8h.html#a9d2b6d902efdbc56094bb913413aa69c" title="Allows additional internal self-checking, useful to catch internal TNeo bugs as well as illegal kerne...">TN_DEBUG</a></code> option is set, then this is checked, so if idle task becomes non-runnable, <code>_TN_FATAL_ERROR()</code> macro will be called.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="tn__sys_8h.html#a62ab25d9d8ca01c02d368968f19e49bf" title="Initial TNeo system start function, never returns. ">tn_sys_start()</a></code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00321">321</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<a id="a64b76c41f847eff5ee6c8bb0f337c946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64b76c41f847eff5ee6c8bb0f337c946">&#9670;&nbsp;</a></span>TN_CBStackOverflow</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() TN_CBStackOverflow(struct <a class="el" href="structTN__Task.html">TN_Task</a> *task)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User-provided callback function that is called when the kernel detects stack overflow (see <code><a class="el" href="tn__cfg__default_8h.html#ac6a9bbac3b3b25d9b5bc8c21d2e09955" title="Whether software stack overflow check is enabled. ">TN_STACK_OVERFLOW_CHECK</a></code>). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Task whose stack is overflowed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00330">330</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<a id="a3a0439b7ba640754949f6d2c8e4ccc06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a0439b7ba640754949f6d2c8e4ccc06">&#9670;&nbsp;</a></span>TN_CBDeadlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void() TN_CBDeadlock(<a class="el" href="tn__common_8h.html#a9f76389d1506addfc7542f54e484a92c">TN_BOOL</a> active, struct <a class="el" href="structTN__Mutex.html">TN_Mutex</a> *mutex, struct <a class="el" href="structTN__Task.html">TN_Task</a> *task)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User-provided callback function that is called whenever deadlock becomes active or inactive. </p>
<p>Note: this feature works if only <code><a class="el" href="tn__cfg__default_8h.html#a6ed3ec7b0d4338e7f60dde86b7ea5fa4" title="Whether RTOS should detect deadlocks and notify user about them via callback. ">TN_MUTEX_DEADLOCK_DETECT</a></code> is non-zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">active</td><td>Boolean value indicating whether deadlock becomes active or inactive. Note: deadlock might become inactive if, for example, one of tasks involved in deadlock exits from waiting by timeout.</td></tr>
    <tr><td class="paramname">mutex</td><td>mutex that is involved in deadlock. You may find out other mutexes involved by means of <code>mutex-&gt;deadlock_list</code>.</td></tr>
    <tr><td class="paramname">task</td><td>task that is involved in deadlock. You may find out other tasks involved by means of <code>task-&gt;deadlock_list</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00350">350</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ace9542d94b996fb2070cd57d6658a2d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace9542d94b996fb2070cd57d6658a2d8">&#9670;&nbsp;</a></span>TN_StateFlag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__sys_8h.html#ace9542d94b996fb2070cd57d6658a2d8">TN_StateFlag</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>System state flags. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ace9542d94b996fb2070cd57d6658a2d8aa5085b1c78bc7e75aeac04a76cab6a52"></a>TN_STATE_FLAG__SYS_RUNNING&#160;</td><td class="fielddoc"><p>system is running </p>
</td></tr>
<tr><td class="fieldname"><a id="ace9542d94b996fb2070cd57d6658a2d8a188c405a2cde555e7aaaeaa1189a4580"></a>TN_STATE_FLAG__DEADLOCK&#160;</td><td class="fielddoc"><p>deadlock is active Note: this feature works if only <code><a class="el" href="tn__cfg__default_8h.html#a6ed3ec7b0d4338e7f60dde86b7ea5fa4" title="Whether RTOS should detect deadlocks and notify user about them via callback. ">TN_MUTEX_DEADLOCK_DETECT</a></code> is non-zero. </p>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="tn__cfg__default_8h.html#a6ed3ec7b0d4338e7f60dde86b7ea5fa4" title="Whether RTOS should detect deadlocks and notify user about them via callback. ">TN_MUTEX_DEADLOCK_DETECT</a></code> </dd></dl>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00232">232</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<a id="a54b0c697dfdb3b59e7bcc6eb7badda51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54b0c697dfdb3b59e7bcc6eb7badda51">&#9670;&nbsp;</a></span>TN_Context</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51">TN_Context</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>System context. </p>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="tn__sys_8h.html#ac3233931746c9d8b84ebd34a2a3a468a" title="Returns system context: task or ISR. ">tn_sys_context_get()</a></code> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a54b0c697dfdb3b59e7bcc6eb7badda51ac6015804609fb2bb71335015c51c40a3"></a>TN_CONTEXT_NONE&#160;</td><td class="fielddoc"><p>None: this code is possible if only system is not running (flag (<code><a class="el" href="tn__sys_8h.html#ace9542d94b996fb2070cd57d6658a2d8aa5085b1c78bc7e75aeac04a76cab6a52" title="system is running ">TN_STATE_FLAG__SYS_RUNNING</a></code> is not set in the <code>_tn_sys_state</code>)) </p>
</td></tr>
<tr><td class="fieldname"><a id="a54b0c697dfdb3b59e7bcc6eb7badda51ab78bafeb369a85700f793a7375e38ec6"></a>TN_CONTEXT_TASK&#160;</td><td class="fielddoc"><p>Task context. </p>
</td></tr>
<tr><td class="fieldname"><a id="a54b0c697dfdb3b59e7bcc6eb7badda51a4b0defef531f47e8cf5dc274355b6626"></a>TN_CONTEXT_ISR&#160;</td><td class="fielddoc"><p>ISR context. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00248">248</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a62ab25d9d8ca01c02d368968f19e49bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62ab25d9d8ca01c02d368968f19e49bf">&#9670;&nbsp;</a></span>tn_sys_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tn_sys_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4">TN_UWord</a> *&#160;</td>
          <td class="paramname"><em>idle_task_stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>idle_task_stack_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4">TN_UWord</a> *&#160;</td>
          <td class="paramname"><em>int_stack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>int_stack_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tn__sys_8h.html#aaa9bbc6c586cf6ce8d982b8d79bc27d6">TN_CBUserTaskCreate</a> *&#160;</td>
          <td class="paramname"><em>cb_user_task_create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tn__sys_8h.html#ac3811d563ff671cb7bd1519735e20fd1">TN_CBIdle</a> *&#160;</td>
          <td class="paramname"><em>cb_idle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initial TNeo system start function, never returns. </p>
<p>Typically called from main().</p>
<p>Refer to the <a class="el" href="quick_guide.html#starting_the_kernel">Starting the kernel</a> section for the usage example and additional comments.</p>
<p><small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idle_task_stack</td><td>Pointer to array for idle task stack. User must either use the macro <code><a class="el" href="tn__sys_8h.html#ad61af0f0e9ab96bdf1ac1bf1e03e3c75" title="Convenience macro for the definition of stack array. ">TN_STACK_ARR_DEF()</a></code> for the definition of stack array, or allocate it manually as an array of <code><a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4" title="Unsigned integer type whose size is equal to the size of CPU register. ">TN_UWord</a></code> with <code><a class="el" href="tn__arch__example_8h.html#ae245dddb19cd7c12b7038a62d576fafa" title="Compiler-specific attribute that should be placed before declaration of array used for stack...">TN_ARCH_STK_ATTR_BEFORE</a></code> and <code><a class="el" href="tn__arch__example_8h.html#ab082613959b539182b8b47bc87d18d6a" title="Compiler-specific attribute that should be placed after declaration of array used for stack...">TN_ARCH_STK_ATTR_AFTER</a></code> macros. </td></tr>
    <tr><td class="paramname">idle_task_stack_size</td><td>Size of idle task stack, in words (<code><a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4" title="Unsigned integer type whose size is equal to the size of CPU register. ">TN_UWord</a></code>) </td></tr>
    <tr><td class="paramname">int_stack</td><td>Pointer to array for interrupt stack. User must either use the macro <code><a class="el" href="tn__sys_8h.html#ad61af0f0e9ab96bdf1ac1bf1e03e3c75" title="Convenience macro for the definition of stack array. ">TN_STACK_ARR_DEF()</a></code> for the definition of stack array, or allocate it manually as an array of <code><a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4" title="Unsigned integer type whose size is equal to the size of CPU register. ">TN_UWord</a></code> with <code><a class="el" href="tn__arch__example_8h.html#ae245dddb19cd7c12b7038a62d576fafa" title="Compiler-specific attribute that should be placed before declaration of array used for stack...">TN_ARCH_STK_ATTR_BEFORE</a></code> and <code><a class="el" href="tn__arch__example_8h.html#ab082613959b539182b8b47bc87d18d6a" title="Compiler-specific attribute that should be placed after declaration of array used for stack...">TN_ARCH_STK_ATTR_AFTER</a></code> macros. </td></tr>
    <tr><td class="paramname">int_stack_size</td><td>Size of interrupt stack, in words (<code><a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4" title="Unsigned integer type whose size is equal to the size of CPU register. ">TN_UWord</a></code>) </td></tr>
    <tr><td class="paramname">cb_user_task_create</td><td>Callback function that should create initial user's task, see <code><a class="el" href="tn__sys_8h.html#aaa9bbc6c586cf6ce8d982b8d79bc27d6" title="User-provided callback function that is called directly from tn_sys_start() as a part of system start...">TN_CBUserTaskCreate</a></code> for details. </td></tr>
    <tr><td class="paramname">cb_idle</td><td>Callback function repeatedly called from idle task, see <code><a class="el" href="tn__sys_8h.html#ac3811d563ff671cb7bd1519735e20fd1" title="User-provided callback function which is called repeatedly from the idle task loop. ">TN_CBIdle</a></code> for details. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa44d297639e0520420890ef2bb7e2c1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa44d297639e0520420890ef2bb7e2c1c">&#9670;&nbsp;</a></span>tn_tick_int_processing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tn_tick_int_processing </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process system tick; should be called periodically, typically from some kind of timer ISR. </p>
<p>The period of this timer is determined by user (typically 1 ms, but user is free to set different value)</p>
<p>Among other things, expired <a class="el" href="tn__timer_8h.html">timers</a> are fired from this function.</p>
<p>For further information, refer to <a class="el" href="quick_guide.html">Quick guide</a>.</p>
<div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
  <div class="image">
<img src="attr_call_ct_sw.png" alt="attr_call_ct_sw.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a id="a05fc370b6faa604fd8ff9411361c4cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05fc370b6faa604fd8ff9411361c4cd0">&#9670;&nbsp;</a></span>tn_sys_tslice_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876">TN_RCode</a> tn_sys_tslice_set </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ticks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set time slice ticks value for specified priority (see <a class="el" href="quick_guide.html#round_robin">Round-robin scheduling</a>). </p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>Priority of tasks for which time slice value should be set </td></tr>
    <tr><td class="paramname">ticks</td><td>Time slice value, in ticks. Set to <code><a class="el" href="tn__sys_8h.html#ab389cb36d15c2390d7868b10391c9b49" title="Value to pass to tn_sys_tslice_set() to turn round-robin off. ">TN_NO_TIME_SLICE</a></code> for no round-robin scheduling for given priority (it's default value). Value can't be higher than <code><a class="el" href="tn__sys_8h.html#a546b128561cc3bf46d0423bad1f5c8c7" title="Max value of time slice. ">TN_MAX_TIME_SLICE</a></code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876afb291924237186f5765865256c75e639" title="Successful operation. ">TN_RC_OK</a></code> on success;</li>
<li><code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a886368391507ae426bfdedc38284db9d" title="Wrong context error: returned if function is called from non-acceptable context. ">TN_RC_WCONTEXT</a></code> if called from wrong context;</li>
<li><code><a class="el" href="tn__common_8h.html#aa43bd3da1ad4c1e61224b5f23b369876a89909a6426b477a38496a1be67590e68" title="This code is returned by most of the kernel functions when wrong params were given to function...">TN_RC_WPARAM</a></code> if given <code>priority</code> or <code>ticks</code> are invalid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a4864ca85d87bab0fa95ce11aefcd1a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4864ca85d87bab0fa95ce11aefcd1a92">&#9670;&nbsp;</a></span>tn_sys_time_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tn__common_8h.html#ac885b63d00c063de61cdbd80bf26d8aa">TN_TickCnt</a> tn_sys_time_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current system ticks count. </p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="section return"><dt>Returns</dt><dd>Current system ticks count. </dd></dl>

</div>
</div>
<a id="aaa4a5c2feb4a0db5993b81dde496edc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa4a5c2feb4a0db5993b81dde496edc3">&#9670;&nbsp;</a></span>tn_callback_deadlock_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tn_callback_deadlock_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tn__sys_8h.html#a3a0439b7ba640754949f6d2c8e4ccc06">TN_CBDeadlock</a> *&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set callback function that should be called whenever deadlock occurs or becomes inactive (say, if one of tasks involved in the deadlock was released from wait because of timeout) </p>
<p><small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<p><b>Note:</b> this function should be called from <code>main()</code>, before <code><a class="el" href="tn__sys_8h.html#a62ab25d9d8ca01c02d368968f19e49bf" title="Initial TNeo system start function, never returns. ">tn_sys_start()</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>Pointer to user-provided callback function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="tn__cfg__default_8h.html#a6ed3ec7b0d4338e7f60dde86b7ea5fa4" title="Whether RTOS should detect deadlocks and notify user about them via callback. ">TN_MUTEX_DEADLOCK_DETECT</a></code> </dd>
<dd>
<code><a class="el" href="tn__sys_8h.html#a3a0439b7ba640754949f6d2c8e4ccc06" title="User-provided callback function that is called whenever deadlock becomes active or inactive...">TN_CBDeadlock</a></code> for callback function prototype </dd></dl>

</div>
</div>
<a id="ab40a7069739439d7b70cc4e19d0b9fe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab40a7069739439d7b70cc4e19d0b9fe3">&#9670;&nbsp;</a></span>tn_callback_stack_overflow_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tn_callback_stack_overflow_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tn__sys_8h.html#a64b76c41f847eff5ee6c8bb0f337c946">TN_CBStackOverflow</a> *&#160;</td>
          <td class="paramname"><em>cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set callback function that is called when the kernel detects stack overflow (see <code><a class="el" href="tn__cfg__default_8h.html#ac6a9bbac3b3b25d9b5bc8c21d2e09955" title="Whether software stack overflow check is enabled. ">TN_STACK_OVERFLOW_CHECK</a></code>). </p>
<p>For function prototype, refer to <code><a class="el" href="tn__sys_8h.html#a64b76c41f847eff5ee6c8bb0f337c946" title="User-provided callback function that is called when the kernel detects stack overflow (see TN_STACK_O...">TN_CBStackOverflow</a></code>. </p>

</div>
</div>
<a id="a202fb30400101599c1e39ba4e58d2fd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a202fb30400101599c1e39ba4e58d2fd5">&#9670;&nbsp;</a></span>tn_sys_state_flags_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__sys_8h.html#ace9542d94b996fb2070cd57d6658a2d8">TN_StateFlag</a> tn_sys_state_flags_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns current system state flags. </p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a id="ac3233931746c9d8b84ebd34a2a3a468a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3233931746c9d8b84ebd34a2a3a468a">&#9670;&nbsp;</a></span>tn_sys_context_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51">TN_Context</a> tn_sys_context_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns system context: task or ISR. </p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
   <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="section see"><dt>See also</dt><dd><code>enum <a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51" title="System context. ">TN_Context</a></code> </dd></dl>

</div>
</div>
<a id="a75204c95f65f14283921931b3baada0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75204c95f65f14283921931b3baada0a">&#9670;&nbsp;</a></span>tn_is_task_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tn__arch__example_8h.html#a39b8c7b5ae653ec71be6f5a821eec3f6">_TN_STATIC_INLINE</a> <a class="el" href="tn__common_8h.html#a9f76389d1506addfc7542f54e484a92c">TN_BOOL</a> tn_is_task_context </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether current system context is <code><a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51ab78bafeb369a85700f793a7375e38ec6" title="Task context. ">TN_CONTEXT_TASK</a></code> </p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
   <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="section return"><dt>Returns</dt><dd><code>TN_TRUE</code> if current system context is <code><a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51ab78bafeb369a85700f793a7375e38ec6" title="Task context. ">TN_CONTEXT_TASK</a></code>, <code>TN_FALSE</code> otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="tn__sys_8h.html#ac3233931746c9d8b84ebd34a2a3a468a" title="Returns system context: task or ISR. ">tn_sys_context_get()</a></code> </dd>
<dd>
<code>enum <a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51" title="System context. ">TN_Context</a></code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00533">533</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<a id="ad2b1d9eba4ab359a2632ecd986f4a42b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2b1d9eba4ab359a2632ecd986f4a42b">&#9670;&nbsp;</a></span>tn_is_isr_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tn__arch__example_8h.html#a39b8c7b5ae653ec71be6f5a821eec3f6">_TN_STATIC_INLINE</a> <a class="el" href="tn__common_8h.html#a9f76389d1506addfc7542f54e484a92c">TN_BOOL</a> tn_is_isr_context </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether current system context is <code><a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51a4b0defef531f47e8cf5dc274355b6626" title="ISR context. ">TN_CONTEXT_ISR</a></code> </p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
   <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="section return"><dt>Returns</dt><dd><code>TN_TRUE</code> if current system context is <code><a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51a4b0defef531f47e8cf5dc274355b6626" title="ISR context. ">TN_CONTEXT_ISR</a></code>, <code>TN_FALSE</code> otherwise.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="tn__sys_8h.html#ac3233931746c9d8b84ebd34a2a3a468a" title="Returns system context: task or ISR. ">tn_sys_context_get()</a></code> </dd>
<dd>
<code>enum <a class="el" href="tn__sys_8h.html#a54b0c697dfdb3b59e7bcc6eb7badda51" title="System context. ">TN_Context</a></code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00552">552</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<a id="a2ca353dcf362a5aa8d2e5a3960e51410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ca353dcf362a5aa8d2e5a3960e51410">&#9670;&nbsp;</a></span>tn_cur_task_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structTN__Task.html">TN_Task</a>* tn_cur_task_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns pointer to the currently running task. </p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a id="afa3c83dce52b17c9ee07b34af0fcebab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa3c83dce52b17c9ee07b34af0fcebab">&#9670;&nbsp;</a></span>tn_cur_task_body_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tn__common_8h.html#a603cbe1ffdafc7e6813ef692bbd7d22f">TN_TaskBody</a>* tn_cur_task_body_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns pointer to the body function of the currently running task. </p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
  <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small> </p>

</div>
</div>
<a id="af1502619506a9c92eb954e45ff0f461b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1502619506a9c92eb954e45ff0f461b">&#9670;&nbsp;</a></span>tn_sched_dis_save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tn__arch__example_8h.html#a39b8c7b5ae653ec71be6f5a821eec3f6">_TN_STATIC_INLINE</a> <a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4">TN_UWord</a> tn_sched_dis_save </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable kernel scheduler and return previous scheduler state. </p>
<p>Actual behavior depends on the platform:</p>
<ul>
<li>On Microchip platforms, only scheduler's interrupt gets disabled. All other interrupts are not affected, independently of their priorities.</li>
<li>On Cortex-M3/M4 platforms, we can only disable interrupts based on priority. So, this function disables all interrupts with lowest priority (since scheduler works at lowest interrupt priority).</li>
<li>On Cortex-M0/M0+, we have to disable all interrupts.</li>
</ul>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
   <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="section return"><dt>Returns</dt><dd>State to be restored later by <code><a class="el" href="tn__sys_8h.html#a4cd5c9113872b2008184c567907653bd" title="Restore state of the kernel scheduler. ">tn_sched_restore()</a></code> </dd></dl>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00595">595</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<a id="a4cd5c9113872b2008184c567907653bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cd5c9113872b2008184c567907653bd">&#9670;&nbsp;</a></span>tn_sched_restore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tn__arch__example_8h.html#a39b8c7b5ae653ec71be6f5a821eec3f6">_TN_STATIC_INLINE</a> void tn_sched_restore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tn__arch__example_8h.html#ab80cba0fe9ffcd9011d53dfeb9e39bf4">TN_UWord</a>&#160;</td>
          <td class="paramname"><em>sched_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restore state of the kernel scheduler. </p>
<p>See <code><a class="el" href="tn__sys_8h.html#af1502619506a9c92eb954e45ff0f461b" title="Disable kernel scheduler and return previous scheduler state. ">tn_sched_dis_save()</a></code>.</p>
<div class="image">
<img src="attr_call_task.png" alt="attr_call_task.png"/>
</div>
  <div class="image">
<img src="attr_call_int.png" alt="attr_call_int.png"/>
</div>
   <small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sched_state</td><td>Value returned from <code><a class="el" href="tn__sys_8h.html#af1502619506a9c92eb954e45ff0f461b" title="Disable kernel scheduler and return previous scheduler state. ">tn_sched_dis_save()</a></code> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="tn__sys_8h_source.html#l00611">611</a> of file <a class="el" href="tn__sys_8h_source.html">tn_sys.h</a>.</p>

</div>
</div>
<a id="ab4e879240635c8f73e20905b8e499c1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4e879240635c8f73e20905b8e499c1c">&#9670;&nbsp;</a></span>tn_callback_dyn_tick_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tn_callback_dyn_tick_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tn__timer_8h.html#a8c64f098ee0fa587a985d149b81bfba9">TN_CBTickSchedule</a> *&#160;</td>
          <td class="paramname"><em>cb_tick_schedule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tn__timer_8h.html#a4cc3440639e990e3a3015b95e805374a">TN_CBTickCntGet</a> *&#160;</td>
          <td class="paramname"><em>cb_tick_cnt_get</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>Available if only <a class="el" href="tn__cfg__default_8h.html#aaee875834a86f961318c584095c366fe"><code>TN_DYNAMIC_TICK</code> </a> is <b>set</b>.</em> </p>
<p>Set callbacks related to dynamic tick.</p>
<dl class="section attention"><dt>Attention</dt><dd>This function should be called <b>before</b> <code><a class="el" href="tn__sys_8h.html#a62ab25d9d8ca01c02d368968f19e49bf" title="Initial TNeo system start function, never returns. ">tn_sys_start()</a></code>, otherwise, you'll run into run-time error <code>_TN_FATAL_ERROR()</code>.</dd></dl>
<p><small><em>(refer to <a class="el" href="legend.html">Legend</a> for details)</em></small></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb_tick_schedule</td><td>Pointer to callback function to schedule next time to call <code><a class="el" href="tn__sys_8h.html#aa44d297639e0520420890ef2bb7e2c1c" title="Process system tick; should be called periodically, typically from some kind of timer ISR...">tn_tick_int_processing()</a></code>, see <code><a class="el" href="tn__timer_8h.html#a8c64f098ee0fa587a985d149b81bfba9" title="Available if only TN_DYNAMIC_TICK  is set. ">TN_CBTickSchedule</a></code> for the prototype. </td></tr>
    <tr><td class="paramname">cb_tick_cnt_get</td><td>Pointer to callback function to get current system tick counter value, see <code><a class="el" href="tn__timer_8h.html#a4cc3440639e990e3a3015b95e805374a" title="Available if only TN_DYNAMIC_TICK  is set. ">TN_CBTickCntGet</a></code> for the prototype. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 18 2017 22:06:48 for TNeo by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
